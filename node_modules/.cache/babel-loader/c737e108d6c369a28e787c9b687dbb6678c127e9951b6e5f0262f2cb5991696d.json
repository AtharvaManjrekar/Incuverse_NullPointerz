{"ast":null,"code":"var _jsxFileName = \"D:\\\\CollegeFolder_B-TECH\\\\Incuverse\\\\src\\\\pages\\\\Registration.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { createUserWithEmailAndPassword, sendEmailVerification, onAuthStateChanged, signOut, signInWithEmailAndPassword } from 'firebase/auth';\nimport { auth } from '../firebaseConfig';\nimport { addData } from './firestore';\nimport { useAuth } from '../contexts/AuthContext';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Registration = () => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    setUser,\n    setUserData\n  } = useAuth();\n  const [currentStep, setCurrentStep] = useState(1);\n  const [formData, setFormData] = useState({\n    // Personal Information\n    firstName: '',\n    lastName: '',\n    email: '',\n    age: '',\n    location: '',\n    maritalStatus: '',\n    dependents: '',\n    // Income & Security\n    monthlyIncome: '',\n    password: '',\n    confirmPassword: ''\n  });\n  const [errors, setErrors] = useState({});\n  const [isAnimating, setIsAnimating] = useState(false);\n  const [isEmailVerified, setIsEmailVerified] = useState(false);\n  const [isCreatingAccount, setIsCreatingAccount] = useState(false);\n  const [verificationSent, setVerificationSent] = useState(false);\n  const [checkInterval, setCheckInterval] = useState(null);\n  const [isCheckingVerification, setIsCheckingVerification] = useState(false);\n  const [tempUserCredentials, setTempUserCredentials] = useState(null);\n\n  // Monitor email verification status\n  useEffect(() => {\n    if (verificationSent && !isEmailVerified) {\n      const interval = setInterval(async () => {\n        try {\n          // Since user is signed out, we can't check verification status automatically\n          // The user will need to use the \"Check Verification\" button manually\n          console.log('Email verification monitoring active - use manual check button');\n        } catch (error) {\n          console.log('Error checking verification status:', error);\n        }\n      }, 2000); // Check every 2 seconds\n\n      setCheckInterval(interval);\n\n      // Cleanup interval on component unmount\n      return () => {\n        if (interval) {\n          clearInterval(interval);\n        }\n      };\n    }\n  }, [verificationSent, isEmailVerified]);\n\n  // Cleanup interval when email is verified\n  useEffect(() => {\n    if (isEmailVerified && checkInterval) {\n      clearInterval(checkInterval);\n      setCheckInterval(null);\n    }\n  }, [isEmailVerified, checkInterval]);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    if (errors[name]) {\n      setErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n  };\n  const validateStep = step => {\n    const newErrors = {};\n    let isValid = true;\n    if (step === 1) {\n      if (!formData.firstName.trim()) {\n        newErrors.firstName = 'First Name is required';\n        isValid = false;\n      }\n      if (!formData.lastName.trim()) {\n        newErrors.lastName = 'Last Name is required';\n        isValid = false;\n      }\n      if (!formData.email.trim()) {\n        newErrors.email = 'Email is required';\n        isValid = false;\n      } else if (!/\\S+@\\S+\\.\\S/.test(formData.email)) {\n        newErrors.email = 'Email is invalid';\n        isValid = false;\n      }\n      if (!formData.password.trim()) {\n        newErrors.password = 'Password is required';\n        isValid = false;\n      } else if (formData.password.length < 6) {\n        newErrors.password = 'Password must be at least 6 characters';\n        isValid = false;\n      }\n      if (formData.password !== formData.confirmPassword) {\n        newErrors.confirmPassword = 'Passwords do not match';\n        isValid = false;\n      }\n      if (!formData.age.trim()) {\n        newErrors.age = 'Age is required';\n        isValid = false;\n      } else if (isNaN(formData.age) || parseInt(formData.age) < 18) {\n        newErrors.age = 'Age must be a number and at least 18';\n        isValid = false;\n      }\n      if (!formData.location.trim()) {\n        newErrors.location = 'Location is required';\n        isValid = false;\n      }\n      if (!formData.maritalStatus.trim()) {\n        newErrors.maritalStatus = 'Marital Status is required';\n        isValid = false;\n      }\n      if (!formData.dependents.trim()) {\n        newErrors.dependents = 'Number of Dependents is required';\n        isValid = false;\n      } else if (isNaN(formData.dependents) || parseInt(formData.dependents) < 0) {\n        newErrors.dependents = 'Dependents must be a non-negative number';\n        isValid = false;\n      }\n    } else if (step === 2) {\n      if (!formData.monthlyIncome.trim()) {\n        newErrors.monthlyIncome = 'Monthly Income is required';\n        isValid = false;\n      } else if (isNaN(formData.monthlyIncome) || parseFloat(formData.monthlyIncome) <= 0) {\n        newErrors.monthlyIncome = 'Monthly Income must be a positive number';\n        isValid = false;\n      }\n    }\n    setErrors(newErrors);\n    return isValid;\n  };\n  const handleNextStep = async () => {\n    if (validateStep(currentStep)) {\n      if (currentStep === 1) {\n        setIsAnimating(true);\n        setTimeout(() => {\n          setCurrentStep(2);\n          setIsAnimating(false);\n        }, 300);\n      }\n    }\n  };\n  const handlePreviousStep = () => {\n    setIsAnimating(true);\n    setTimeout(() => {\n      setCurrentStep(1);\n      setIsAnimating(false);\n    }, 300);\n  };\n  const handleEmailVerification = async () => {\n    if (!formData.email || !formData.password) {\n      setErrors(prev => ({\n        ...prev,\n        email: \"Email and password are required.\"\n      }));\n      return;\n    }\n    setIsCreatingAccount(true);\n    setErrors({});\n    try {\n      // Create user with REAL password - PRODUCTION READY\n      const userCredential = await createUserWithEmailAndPassword(auth, formData.email, formData.password);\n      const user = userCredential.user;\n\n      // Set display name (with error handling)\n      try {\n        if (user && typeof user.updateProfile === 'function') {\n          await user.updateProfile({\n            displayName: `${formData.firstName} ${formData.lastName}`\n          });\n          console.log(\"✅ Display name set successfully\");\n        } else {\n          console.log(\"⚠️ updateProfile method not available, skipping display name update\");\n          // Store display name in localStorage as fallback\n          localStorage.setItem('userDisplayName', `${formData.firstName} ${formData.lastName}`);\n        }\n      } catch (profileError) {\n        console.log(\"⚠️ Profile update failed, continuing with verification:\", profileError);\n        // Store display name in localStorage as fallback\n        localStorage.setItem('userDisplayName', `${formData.firstName} ${formData.lastName}`);\n      }\n\n      // Send verification email\n      await sendEmailVerification(user);\n      console.log(\"✅ Verification email sent successfully to:\", formData.email);\n      setVerificationSent(true);\n\n      // Store user credentials temporarily for verification checking\n      setTempUserCredentials({\n        email: formData.email,\n        password: formData.password\n      });\n\n      // Sign out the user immediately after sending verification email\n      // This prevents the navbar from showing logged-in state during registration\n      try {\n        await signOut(auth);\n        setUser(null);\n        setUserData(null);\n        console.log(\"✅ User signed out after sending verification email\");\n      } catch (signOutError) {\n        console.log(\"⚠️ Sign out failed after verification email:\", signOutError);\n        // Still clear AuthContext state\n        setUser(null);\n        setUserData(null);\n      }\n      alert(`Verification email sent to ${formData.email}. Please check your email and click the verification link to continue.`);\n    } catch (error) {\n      setIsCreatingAccount(false);\n      let errorMessage = 'Failed to create account. Please try again.';\n      switch (error.code) {\n        case 'auth/email-already-in-use':\n          errorMessage = 'This email is already in use. Please login or use a different email.';\n          break;\n        case 'auth/invalid-email':\n          errorMessage = 'The email address is invalid.';\n          break;\n        case 'auth/weak-password':\n          errorMessage = 'The password is too weak. Please use a stronger password.';\n          break;\n        default:\n          errorMessage = error.message;\n      }\n      setErrors(prev => ({\n        ...prev,\n        email: errorMessage\n      }));\n      console.error(\"Firebase registration error:\", error);\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (validateStep(currentStep)) {\n      try {\n        console.log(\"Form submitted:\", formData);\n\n        // Check if email is verified\n        if (!isEmailVerified) {\n          alert(\"Please verify your email before completing registration!\");\n          return;\n        }\n\n        // Check if we have stored credentials\n        if (!tempUserCredentials) {\n          alert(\"Registration session expired. Please start over.\");\n          return;\n        }\n\n        // Sign in temporarily to get user data for Firestore\n        const userCredential = await signInWithEmailAndPassword(auth, tempUserCredentials.email, tempUserCredentials.password);\n        const user = userCredential.user;\n\n        // Prepare data for Firestore\n        const userData = {\n          userId: user.uid,\n          email: user.email,\n          emailVerified: user.emailVerified,\n          firstName: formData.firstName,\n          lastName: formData.lastName,\n          age: parseInt(formData.age),\n          location: formData.location,\n          maritalStatus: formData.maritalStatus,\n          dependents: parseInt(formData.dependents),\n          monthlyIncome: parseFloat(formData.monthlyIncome),\n          password: formData.password,\n          createdAt: new Date(),\n          updatedAt: new Date()\n        };\n\n        // Store data in Firestore\n        try {\n          console.log(\"🔍 Storing user data in Firestore:\", userData);\n          const result = await addData('users', userData);\n          console.log(\"🔍 Firestore result:\", result);\n          if (result.success) {\n            console.log(\"✅ User data stored successfully in Firestore:\", result.id);\n\n            // Sign out the user after successful registration\n            try {\n              await signOut(auth);\n              // Also clear AuthContext state manually\n              setUser(null);\n              setUserData(null);\n              // Clear temporary credentials\n              setTempUserCredentials(null);\n              console.log(\"✅ User signed out after registration\");\n            } catch (signOutError) {\n              console.log(\"⚠️ Sign out failed, but registration was successful:\", signOutError);\n              // Still clear AuthContext state even if signOut fails\n              setUser(null);\n              setUserData(null);\n              setTempUserCredentials(null);\n            }\n            alert(\"Registration successful! Please login to continue.\");\n            navigate(\"/login\");\n          } else {\n            throw new Error(result.error);\n          }\n        } catch (firestoreError) {\n          console.error(\"❌ Firestore error:\", firestoreError);\n          // Sign out after error\n          try {\n            await signOut(auth);\n            setUser(null);\n            setUserData(null);\n          } catch (signOutError) {\n            console.log(\"Sign out error:\", signOutError);\n          }\n          alert(\"Registration completed but data storage failed. Please try again.\");\n        }\n      } catch (error) {\n        console.error(\"Error during registration:\", error);\n        // Sign out after error\n        try {\n          await signOut(auth);\n          setUser(null);\n          setUserData(null);\n        } catch (signOutError) {\n          console.log(\"Sign out error:\", signOutError);\n        }\n        alert(\"An error occurred during registration. Please try again.\");\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 min-h-screen flex flex-col justify-center\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card w-full p-6 shadow-lg border rounded-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-user-plus text-primary-600 text-2xl\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-bold text-gray-900 mb-2\",\n          children: \"Create Your Account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Join us to plan your perfect retirement\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: `transition-all duration-300 ${isAnimating ? 'opacity-0 transform translate-x-4' : 'opacity-100 transform translate-x-0'}`,\n        children: [currentStep === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-semibold text-gray-900 mb-4\",\n            children: \"Personal Information\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: \"First Name *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"firstName\",\n                value: formData.firstName,\n                onChange: handleChange,\n                className: `form-input ${errors.firstName ? 'border-red-500' : ''}`,\n                placeholder: \"Enter your first name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 37\n              }, this), errors.firstName && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-red-500 text-sm mt-1\",\n                children: errors.firstName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 392,\n                columnNumber: 58\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: \"Last Name *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 395,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"lastName\",\n                value: formData.lastName,\n                onChange: handleChange,\n                className: `form-input ${errors.lastName ? 'border-red-500' : ''}`,\n                placeholder: \"Enter your last name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 37\n              }, this), errors.lastName && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-red-500 text-sm mt-1\",\n                children: errors.lastName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 404,\n                columnNumber: 57\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Email Address *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              name: \"email\",\n              value: formData.email,\n              onChange: handleChange,\n              className: `form-input ${errors.email ? 'border-red-500' : ''}`,\n              placeholder: \"Enter your email address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 33\n            }, this), errors.email && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-red-500 text-sm mt-1\",\n              children: errors.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 50\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Password *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              name: \"password\",\n              value: formData.password,\n              onChange: handleChange,\n              className: `form-input ${errors.password ? 'border-red-500' : ''}`,\n              placeholder: \"Create a strong password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 33\n            }, this), errors.password && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-red-500 text-sm mt-1\",\n              children: errors.password\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 53\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Confirm Password *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              name: \"confirmPassword\",\n              value: formData.confirmPassword,\n              onChange: handleChange,\n              className: `form-input ${errors.confirmPassword ? 'border-red-500' : ''}`,\n              placeholder: \"Confirm your password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 33\n            }, this), errors.confirmPassword && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-red-500 text-sm mt-1\",\n              children: errors.confirmPassword\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 60\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: \"Age *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 449,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                name: \"age\",\n                value: formData.age,\n                onChange: handleChange,\n                className: `form-input ${errors.age ? 'border-red-500' : ''}`,\n                placeholder: \"Your current age\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 37\n              }, this), errors.age && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-red-500 text-sm mt-1\",\n                children: errors.age\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 52\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: \"Location *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 461,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"location\",\n                value: formData.location,\n                onChange: handleChange,\n                className: `form-input ${errors.location ? 'border-red-500' : ''}`,\n                placeholder: \"Your city or region\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 462,\n                columnNumber: 37\n              }, this), errors.location && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-red-500 text-sm mt-1\",\n                children: errors.location\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 470,\n                columnNumber: 57\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: \"Marital Status *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 476,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"maritalStatus\",\n                value: formData.maritalStatus,\n                onChange: handleChange,\n                className: `form-select ${errors.maritalStatus ? 'border-red-500' : ''}`,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Select status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 483,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"single\",\n                  children: \"Single\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 484,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"married\",\n                  children: \"Married\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 485,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"divorced\",\n                  children: \"Divorced\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 486,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"widowed\",\n                  children: \"Widowed\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 487,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 37\n              }, this), errors.maritalStatus && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-red-500 text-sm mt-1\",\n                children: errors.maritalStatus\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 489,\n                columnNumber: 62\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 475,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: \"Number of Dependents *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 492,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                name: \"dependents\",\n                value: formData.dependents,\n                onChange: handleChange,\n                className: `form-input ${errors.dependents ? 'border-red-500' : ''}`,\n                placeholder: \"E.g., 0, 1, 2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 493,\n                columnNumber: 37\n              }, this), errors.dependents && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-red-500 text-sm mt-1\",\n                children: errors.dependents\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 501,\n                columnNumber: 59\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: handleEmailVerification,\n              disabled: isCreatingAccount || isEmailVerified || !formData.email || !formData.password,\n              className: `w-full px-4 py-2 rounded-lg text-sm font-medium transition-colors ${isEmailVerified ? 'bg-green-100 text-green-700 border border-green-300' : isCreatingAccount ? 'bg-gray-100 text-gray-500 border border-gray-300 cursor-not-allowed' : 'bg-primary-600 text-white hover:bg-primary-700'}`,\n              children: isCreatingAccount ? 'Sending...' : isEmailVerified ? 'Verified ✓' : 'Send Verification Email'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 506,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 505,\n            columnNumber: 29\n          }, this), verificationSent && !isEmailVerified && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3 p-4 bg-blue-50 border border-blue-200 rounded-lg\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center mb-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-envelope text-blue-600 mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 527,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-blue-800 font-medium\",\n                    children: \"Verification email sent!\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 528,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 526,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-blue-600 mb-2\",\n                  children: \"Please check your email and click the verification link to continue.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 530,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-blue-500\",\n                  children: \"After clicking the link, come back here and click \\\"Check Verification\\\" below.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 531,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 525,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: async () => {\n                  setIsCheckingVerification(true);\n                  try {\n                    if (tempUserCredentials) {\n                      // Sign in temporarily to check verification status\n                      const userCredential = await signInWithEmailAndPassword(auth, tempUserCredentials.email, tempUserCredentials.password);\n                      const user = userCredential.user;\n                      if (user.emailVerified) {\n                        console.log('✅ Email verified!');\n                        setIsEmailVerified(true);\n                        alert('✅ Email verified successfully! You can now continue.');\n\n                        // Sign out again to maintain the logged-out state\n                        await signOut(auth);\n                        setUser(null);\n                        setUserData(null);\n                      } else {\n                        console.log('Email not verified yet');\n                        alert('Email not verified yet. Please check your email and click the verification link.');\n\n                        // Sign out after checking\n                        await signOut(auth);\n                        setUser(null);\n                        setUserData(null);\n                      }\n                    } else {\n                      alert('Verification credentials not available. Please try sending the verification email again.');\n                    }\n                  } catch (error) {\n                    console.error('Error checking verification:', error);\n                    alert('Error checking verification. Please try again.');\n                  } finally {\n                    setIsCheckingVerification(false);\n                  }\n                },\n                disabled: isCheckingVerification,\n                className: `px-4 py-2 text-sm font-medium rounded-lg transition-colors flex items-center ${isCheckingVerification ? 'bg-gray-400 text-gray-200 cursor-not-allowed' : 'bg-blue-600 text-white hover:bg-blue-700 shadow-md'}`,\n                children: isCheckingVerification ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-spinner fa-spin mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 583,\n                    columnNumber: 53\n                  }, this), \"Checking...\"]\n                }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-check-circle mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 588,\n                    columnNumber: 53\n                  }, this), \"Check Verification\"]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 533,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 524,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 523,\n            columnNumber: 33\n          }, this), isEmailVerified && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3 p-3 bg-green-50 border border-green-200 rounded-lg\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-check-circle text-green-600 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 600,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-green-800 font-medium\",\n                children: \"Email verified successfully! You can now proceed to the next step.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 601,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 599,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 598,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: handleNextStep,\n            disabled: !isEmailVerified,\n            className: `w-full py-3 px-4 rounded-lg text-lg font-semibold transition-colors duration-200 flex items-center justify-center ${!isEmailVerified ? 'bg-gray-300 text-gray-500 cursor-not-allowed' : 'bg-primary-600 text-white hover:bg-primary-700 shadow-md'}`,\n            children: !isEmailVerified ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-envelope mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 617,\n                columnNumber: 41\n              }, this), \"Verify Email to Continue\"]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [\"Next Step\", /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-arrow-right ml-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 623,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 606,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 25\n        }, this), currentStep === 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-semibold text-gray-900 mb-4\",\n            children: \"Income & Security\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 632,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Monthly Income (\\u20B9) *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 635,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              name: \"monthlyIncome\",\n              value: formData.monthlyIncome,\n              onChange: handleChange,\n              className: `form-input ${errors.monthlyIncome ? 'border-red-500' : ''}`,\n              placeholder: \"Enter your gross monthly income\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 636,\n              columnNumber: 33\n            }, this), errors.monthlyIncome && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-red-500 text-sm mt-1\",\n              children: errors.monthlyIncome\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 644,\n              columnNumber: 58\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 634,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: handlePreviousStep,\n              className: \"btn-secondary py-2 px-4 rounded-md text-lg font-semibold transition-colors duration-200\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-arrow-left mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 653,\n                columnNumber: 37\n              }, this), \" Previous\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 648,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn-primary py-2 px-4 rounded-md text-lg font-semibold transition-colors duration-200\",\n              children: [\"Register \", /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-check-circle ml-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 659,\n                columnNumber: 46\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 655,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 647,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 631,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6 text-center\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600\",\n          children: [\"Already have an account?\", ' ', /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/login\",\n            className: \"font-medium text-primary-600 hover:text-primary-500\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 669,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 667,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 666,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 366,\n    columnNumber: 9\n  }, this);\n};\n_s(Registration, \"KeyLW5O5eT0TzcpyHmSij1Skqic=\", false, function () {\n  return [useNavigate, useAuth];\n});\n_c = Registration;\nexport default Registration;\nvar _c;\n$RefreshReg$(_c, \"Registration\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","createUserWithEmailAndPassword","sendEmailVerification","onAuthStateChanged","signOut","signInWithEmailAndPassword","auth","addData","useAuth","jsxDEV","_jsxDEV","Fragment","_Fragment","Registration","_s","navigate","setUser","setUserData","currentStep","setCurrentStep","formData","setFormData","firstName","lastName","email","age","location","maritalStatus","dependents","monthlyIncome","password","confirmPassword","errors","setErrors","isAnimating","setIsAnimating","isEmailVerified","setIsEmailVerified","isCreatingAccount","setIsCreatingAccount","verificationSent","setVerificationSent","checkInterval","setCheckInterval","isCheckingVerification","setIsCheckingVerification","tempUserCredentials","setTempUserCredentials","interval","setInterval","console","log","error","clearInterval","handleChange","e","name","value","target","prev","validateStep","step","newErrors","isValid","trim","test","length","isNaN","parseInt","parseFloat","handleNextStep","setTimeout","handlePreviousStep","handleEmailVerification","userCredential","user","updateProfile","displayName","localStorage","setItem","profileError","signOutError","alert","errorMessage","code","message","handleSubmit","preventDefault","userData","userId","uid","emailVerified","createdAt","Date","updatedAt","result","success","id","Error","firestoreError","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","onChange","placeholder","onClick","disabled","href","_c","$RefreshReg$"],"sources":["D:/CollegeFolder_B-TECH/Incuverse/src/pages/Registration.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport {\n    createUserWithEmailAndPassword,\n    sendEmailVerification,\n    onAuthStateChanged,\n    signOut,\n    signInWithEmailAndPassword,\n} from 'firebase/auth';\nimport { auth } from '../firebaseConfig';\nimport { addData } from './firestore';\nimport { useAuth } from '../contexts/AuthContext';\n\nconst Registration = () => {\n    const navigate = useNavigate();\n    const { setUser, setUserData } = useAuth();\n    const [currentStep, setCurrentStep] = useState(1);\n    const [formData, setFormData] = useState({\n        // Personal Information\n        firstName: '',\n        lastName: '',\n        email: '',\n        age: '',\n        location: '',\n        maritalStatus: '',\n        dependents: '',\n        // Income & Security\n        monthlyIncome: '',\n        password: '',\n        confirmPassword: ''\n    });\n    const [errors, setErrors] = useState({});\n    const [isAnimating, setIsAnimating] = useState(false);\n    const [isEmailVerified, setIsEmailVerified] = useState(false);\n    const [isCreatingAccount, setIsCreatingAccount] = useState(false);\n    const [verificationSent, setVerificationSent] = useState(false);\n    const [checkInterval, setCheckInterval] = useState(null);\n    const [isCheckingVerification, setIsCheckingVerification] = useState(false);\n    const [tempUserCredentials, setTempUserCredentials] = useState(null);\n\n    // Monitor email verification status\n    useEffect(() => {\n        if (verificationSent && !isEmailVerified) {\n            const interval = setInterval(async () => {\n                try {\n                    // Since user is signed out, we can't check verification status automatically\n                    // The user will need to use the \"Check Verification\" button manually\n                    console.log('Email verification monitoring active - use manual check button');\n                } catch (error) {\n                    console.log('Error checking verification status:', error);\n                }\n            }, 2000); // Check every 2 seconds\n\n            setCheckInterval(interval);\n\n            // Cleanup interval on component unmount\n            return () => {\n                if (interval) {\n                    clearInterval(interval);\n                }\n            };\n        }\n    }, [verificationSent, isEmailVerified]);\n\n    // Cleanup interval when email is verified\n    useEffect(() => {\n        if (isEmailVerified && checkInterval) {\n            clearInterval(checkInterval);\n            setCheckInterval(null);\n        }\n    }, [isEmailVerified, checkInterval]);\n\n    const handleChange = (e) => {\n        const { name, value } = e.target;\n        setFormData(prev => ({\n            ...prev,\n            [name]: value\n        }));\n        if (errors[name]) {\n            setErrors(prev => ({\n                ...prev,\n                [name]: ''\n            }));\n        }\n    };\n\n    const validateStep = (step) => {\n        const newErrors = {};\n        let isValid = true;\n\n        if (step === 1) {\n            if (!formData.firstName.trim()) {\n                newErrors.firstName = 'First Name is required';\n                isValid = false;\n            }\n            if (!formData.lastName.trim()) {\n                newErrors.lastName = 'Last Name is required';\n                isValid = false;\n            }\n            if (!formData.email.trim()) {\n                newErrors.email = 'Email is required';\n                isValid = false;\n            } else if (!/\\S+@\\S+\\.\\S/.test(formData.email)) {\n                newErrors.email = 'Email is invalid';\n                isValid = false;\n            }\n            if (!formData.password.trim()) {\n                newErrors.password = 'Password is required';\n                isValid = false;\n            } else if (formData.password.length < 6) {\n                newErrors.password = 'Password must be at least 6 characters';\n                isValid = false;\n            }\n            if (formData.password !== formData.confirmPassword) {\n                newErrors.confirmPassword = 'Passwords do not match';\n                isValid = false;\n            }\n            if (!formData.age.trim()) {\n                newErrors.age = 'Age is required';\n                isValid = false;\n            } else if (isNaN(formData.age) || parseInt(formData.age) < 18) {\n                newErrors.age = 'Age must be a number and at least 18';\n                isValid = false;\n            }\n            if (!formData.location.trim()) {\n                newErrors.location = 'Location is required';\n                isValid = false;\n            }\n            if (!formData.maritalStatus.trim()) {\n                newErrors.maritalStatus = 'Marital Status is required';\n                isValid = false;\n            }\n            if (!formData.dependents.trim()) {\n                newErrors.dependents = 'Number of Dependents is required';\n                isValid = false;\n            } else if (isNaN(formData.dependents) || parseInt(formData.dependents) < 0) {\n                newErrors.dependents = 'Dependents must be a non-negative number';\n                isValid = false;\n            }\n        } else if (step === 2) {\n            if (!formData.monthlyIncome.trim()) {\n                newErrors.monthlyIncome = 'Monthly Income is required';\n                isValid = false;\n            } else if (isNaN(formData.monthlyIncome) || parseFloat(formData.monthlyIncome) <= 0) {\n                newErrors.monthlyIncome = 'Monthly Income must be a positive number';\n                isValid = false;\n            }\n        }\n\n        setErrors(newErrors);\n        return isValid;\n    };\n\n    const handleNextStep = async () => {\n        if (validateStep(currentStep)) {\n            if (currentStep === 1) {\n                setIsAnimating(true);\n                setTimeout(() => {\n                    setCurrentStep(2);\n                    setIsAnimating(false);\n                }, 300);\n            }\n        }\n    };\n\n    const handlePreviousStep = () => {\n        setIsAnimating(true);\n        setTimeout(() => {\n            setCurrentStep(1);\n            setIsAnimating(false);\n        }, 300);\n    };\n\n    const handleEmailVerification = async () => {\n        if (!formData.email || !formData.password) {\n            setErrors((prev) => ({\n                ...prev,\n                email: \"Email and password are required.\",\n            }));\n            return;\n        }\n\n        setIsCreatingAccount(true);\n        setErrors({});\n\n        try {\n            // Create user with REAL password - PRODUCTION READY\n            const userCredential = await createUserWithEmailAndPassword(\n                auth,\n                formData.email,\n                formData.password\n            );\n            const user = userCredential.user;\n\n            // Set display name (with error handling)\n            try {\n                if (user && typeof user.updateProfile === 'function') {\n                    await user.updateProfile({\n                        displayName: `${formData.firstName} ${formData.lastName}`\n                    });\n                    console.log(\"✅ Display name set successfully\");\n                } else {\n                    console.log(\"⚠️ updateProfile method not available, skipping display name update\");\n                    // Store display name in localStorage as fallback\n                    localStorage.setItem('userDisplayName', `${formData.firstName} ${formData.lastName}`);\n                }\n            } catch (profileError) {\n                console.log(\"⚠️ Profile update failed, continuing with verification:\", profileError);\n                // Store display name in localStorage as fallback\n                localStorage.setItem('userDisplayName', `${formData.firstName} ${formData.lastName}`);\n            }\n\n            // Send verification email\n            await sendEmailVerification(user);\n            console.log(\"✅ Verification email sent successfully to:\", formData.email);\n            setVerificationSent(true);\n\n            // Store user credentials temporarily for verification checking\n            setTempUserCredentials({\n                email: formData.email,\n                password: formData.password\n            });\n\n            // Sign out the user immediately after sending verification email\n            // This prevents the navbar from showing logged-in state during registration\n            try {\n                await signOut(auth);\n                setUser(null);\n                setUserData(null);\n                console.log(\"✅ User signed out after sending verification email\");\n            } catch (signOutError) {\n                console.log(\"⚠️ Sign out failed after verification email:\", signOutError);\n                // Still clear AuthContext state\n                setUser(null);\n                setUserData(null);\n            }\n\n            alert(`Verification email sent to ${formData.email}. Please check your email and click the verification link to continue.`);\n\n        } catch (error) {\n            setIsCreatingAccount(false);\n            let errorMessage = 'Failed to create account. Please try again.';\n            switch (error.code) {\n                case 'auth/email-already-in-use':\n                    errorMessage = 'This email is already in use. Please login or use a different email.';\n                    break;\n                case 'auth/invalid-email':\n                    errorMessage = 'The email address is invalid.';\n                    break;\n                case 'auth/weak-password':\n                    errorMessage = 'The password is too weak. Please use a stronger password.';\n                    break;\n                default:\n                    errorMessage = error.message;\n            }\n            setErrors(prev => ({\n                ...prev,\n                email: errorMessage\n            }));\n            console.error(\"Firebase registration error:\", error);\n        }\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        if (validateStep(currentStep)) {\n            try {\n                console.log(\"Form submitted:\", formData);\n\n                // Check if email is verified\n                if (!isEmailVerified) {\n                    alert(\"Please verify your email before completing registration!\");\n                    return;\n                }\n\n                // Check if we have stored credentials\n                if (!tempUserCredentials) {\n                    alert(\"Registration session expired. Please start over.\");\n                    return;\n                }\n\n                // Sign in temporarily to get user data for Firestore\n                const userCredential = await signInWithEmailAndPassword(\n                    auth,\n                    tempUserCredentials.email,\n                    tempUserCredentials.password\n                );\n                const user = userCredential.user;\n\n                // Prepare data for Firestore\n                const userData = {\n                    userId: user.uid,\n                    email: user.email,\n                    emailVerified: user.emailVerified,\n                    firstName: formData.firstName,\n                    lastName: formData.lastName,\n                    age: parseInt(formData.age),\n                    location: formData.location,\n                    maritalStatus: formData.maritalStatus,\n                    dependents: parseInt(formData.dependents),\n                    monthlyIncome: parseFloat(formData.monthlyIncome),\n                    password: formData.password,\n                    createdAt: new Date(),\n                    updatedAt: new Date()\n                };\n\n                // Store data in Firestore\n                try {\n                    console.log(\"🔍 Storing user data in Firestore:\", userData);\n                    const result = await addData('users', userData);\n                    console.log(\"🔍 Firestore result:\", result);\n\n                    if (result.success) {\n                        console.log(\"✅ User data stored successfully in Firestore:\", result.id);\n\n                        // Sign out the user after successful registration\n                        try {\n                            await signOut(auth);\n                            // Also clear AuthContext state manually\n                            setUser(null);\n                            setUserData(null);\n                            // Clear temporary credentials\n                            setTempUserCredentials(null);\n                            console.log(\"✅ User signed out after registration\");\n                        } catch (signOutError) {\n                            console.log(\"⚠️ Sign out failed, but registration was successful:\", signOutError);\n                            // Still clear AuthContext state even if signOut fails\n                            setUser(null);\n                            setUserData(null);\n                            setTempUserCredentials(null);\n                        }\n\n                        alert(\"Registration successful! Please login to continue.\");\n                        navigate(\"/login\");\n                    } else {\n                        throw new Error(result.error);\n                    }\n                } catch (firestoreError) {\n                    console.error(\"❌ Firestore error:\", firestoreError);\n                    // Sign out after error\n                    try {\n                        await signOut(auth);\n                        setUser(null);\n                        setUserData(null);\n                    } catch (signOutError) {\n                        console.log(\"Sign out error:\", signOutError);\n                    }\n                    alert(\"Registration completed but data storage failed. Please try again.\");\n                }\n            } catch (error) {\n                console.error(\"Error during registration:\", error);\n                // Sign out after error\n                try {\n                    await signOut(auth);\n                    setUser(null);\n                    setUserData(null);\n                } catch (signOutError) {\n                    console.log(\"Sign out error:\", signOutError);\n                }\n                alert(\"An error occurred during registration. Please try again.\");\n            }\n        }\n    };\n\n    return (\n        <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 min-h-screen flex flex-col justify-center\">\n            <div className=\"card w-full p-6 shadow-lg border rounded-lg\">\n                <div className=\"text-center mb-6\">\n                    <div className=\"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n                        <i className=\"fas fa-user-plus text-primary-600 text-2xl\"></i>\n                    </div>\n                    <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Create Your Account</h1>\n                    <p className=\"text-gray-600\">Join us to plan your perfect retirement</p>\n                </div>\n\n                <form onSubmit={handleSubmit} className={`transition-all duration-300 ${isAnimating ? 'opacity-0 transform translate-x-4' : 'opacity-100 transform translate-x-0'}`}>\n                    {currentStep === 1 && (\n                        <div className=\"space-y-6\">\n                            <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">Personal Information</h2>\n\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                <div>\n                                    <label className=\"form-label\">First Name *</label>\n                                    <input\n                                        type=\"text\"\n                                        name=\"firstName\"\n                                        value={formData.firstName}\n                                        onChange={handleChange}\n                                        className={`form-input ${errors.firstName ? 'border-red-500' : ''}`}\n                                        placeholder=\"Enter your first name\"\n                                    />\n                                    {errors.firstName && <p className=\"text-red-500 text-sm mt-1\">{errors.firstName}</p>}\n                                </div>\n                                <div>\n                                    <label className=\"form-label\">Last Name *</label>\n                                    <input\n                                        type=\"text\"\n                                        name=\"lastName\"\n                                        value={formData.lastName}\n                                        onChange={handleChange}\n                                        className={`form-input ${errors.lastName ? 'border-red-500' : ''}`}\n                                        placeholder=\"Enter your last name\"\n                                    />\n                                    {errors.lastName && <p className=\"text-red-500 text-sm mt-1\">{errors.lastName}</p>}\n                                </div>\n                            </div>\n\n                            <div>\n                                <label className=\"form-label\">Email Address *</label>\n                                <input\n                                    type=\"email\"\n                                    name=\"email\"\n                                    value={formData.email}\n                                    onChange={handleChange}\n                                    className={`form-input ${errors.email ? 'border-red-500' : ''}`}\n                                    placeholder=\"Enter your email address\"\n                                />\n                                {errors.email && <p className=\"text-red-500 text-sm mt-1\">{errors.email}</p>}\n                            </div>\n\n                            <div>\n                                <label className=\"form-label\">Password *</label>\n                                <input\n                                    type=\"password\"\n                                    name=\"password\"\n                                    value={formData.password}\n                                    onChange={handleChange}\n                                    className={`form-input ${errors.password ? 'border-red-500' : ''}`}\n                                    placeholder=\"Create a strong password\"\n                                />\n                                {errors.password && <p className=\"text-red-500 text-sm mt-1\">{errors.password}</p>}\n                            </div>\n\n                            <div>\n                                <label className=\"form-label\">Confirm Password *</label>\n                                <input\n                                    type=\"password\"\n                                    name=\"confirmPassword\"\n                                    value={formData.confirmPassword}\n                                    onChange={handleChange}\n                                    className={`form-input ${errors.confirmPassword ? 'border-red-500' : ''}`}\n                                    placeholder=\"Confirm your password\"\n                                />\n                                {errors.confirmPassword && <p className=\"text-red-500 text-sm mt-1\">{errors.confirmPassword}</p>}\n                            </div>\n\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                <div>\n                                    <label className=\"form-label\">Age *</label>\n                                    <input\n                                        type=\"number\"\n                                        name=\"age\"\n                                        value={formData.age}\n                                        onChange={handleChange}\n                                        className={`form-input ${errors.age ? 'border-red-500' : ''}`}\n                                        placeholder=\"Your current age\"\n                                    />\n                                    {errors.age && <p className=\"text-red-500 text-sm mt-1\">{errors.age}</p>}\n                                </div>\n                                <div>\n                                    <label className=\"form-label\">Location *</label>\n                                    <input\n                                        type=\"text\"\n                                        name=\"location\"\n                                        value={formData.location}\n                                        onChange={handleChange}\n                                        className={`form-input ${errors.location ? 'border-red-500' : ''}`}\n                                        placeholder=\"Your city or region\"\n                                    />\n                                    {errors.location && <p className=\"text-red-500 text-sm mt-1\">{errors.location}</p>}\n                                </div>\n                            </div>\n\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                <div>\n                                    <label className=\"form-label\">Marital Status *</label>\n                                    <select\n                                        name=\"maritalStatus\"\n                                        value={formData.maritalStatus}\n                                        onChange={handleChange}\n                                        className={`form-select ${errors.maritalStatus ? 'border-red-500' : ''}`}\n                                    >\n                                        <option value=\"\">Select status</option>\n                                        <option value=\"single\">Single</option>\n                                        <option value=\"married\">Married</option>\n                                        <option value=\"divorced\">Divorced</option>\n                                        <option value=\"widowed\">Widowed</option>\n                                    </select>\n                                    {errors.maritalStatus && <p className=\"text-red-500 text-sm mt-1\">{errors.maritalStatus}</p>}\n                                </div>\n                                <div>\n                                    <label className=\"form-label\">Number of Dependents *</label>\n                                    <input\n                                        type=\"number\"\n                                        name=\"dependents\"\n                                        value={formData.dependents}\n                                        onChange={handleChange}\n                                        className={`form-input ${errors.dependents ? 'border-red-500' : ''}`}\n                                        placeholder=\"E.g., 0, 1, 2\"\n                                    />\n                                    {errors.dependents && <p className=\"text-red-500 text-sm mt-1\">{errors.dependents}</p>}\n                                </div>\n                            </div>\n\n                            <div className=\"mt-4\">\n                                <button\n                                    type=\"button\"\n                                    onClick={handleEmailVerification}\n                                    disabled={isCreatingAccount || isEmailVerified || !formData.email || !formData.password}\n                                    className={`w-full px-4 py-2 rounded-lg text-sm font-medium transition-colors ${isEmailVerified\n                                        ? 'bg-green-100 text-green-700 border border-green-300'\n                                        : isCreatingAccount\n                                            ? 'bg-gray-100 text-gray-500 border border-gray-300 cursor-not-allowed'\n                                            : 'bg-primary-600 text-white hover:bg-primary-700'\n                                        }`}\n                                >\n                                    {isCreatingAccount ? 'Sending...' : isEmailVerified ? 'Verified ✓' : 'Send Verification Email'}\n                                </button>\n                            </div>\n\n                            {/* Email Verification Status */}\n                            {verificationSent && !isEmailVerified && (\n                                <div className=\"mt-3 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n                                    <div className=\"flex items-center justify-between\">\n                                        <div className=\"flex-1\">\n                                            <div className=\"flex items-center mb-2\">\n                                                <i className=\"fas fa-envelope text-blue-600 mr-2\"></i>\n                                                <p className=\"text-sm text-blue-800 font-medium\">Verification email sent!</p>\n                                            </div>\n                                            <p className=\"text-xs text-blue-600 mb-2\">Please check your email and click the verification link to continue.</p>\n                                            <p className=\"text-xs text-blue-500\">After clicking the link, come back here and click \"Check Verification\" below.</p>\n                                        </div>\n                                        <button\n                                            type=\"button\"\n                                            onClick={async () => {\n                                                setIsCheckingVerification(true);\n                                                try {\n                                                    if (tempUserCredentials) {\n                                                        // Sign in temporarily to check verification status\n                                                        const userCredential = await signInWithEmailAndPassword(\n                                                            auth,\n                                                            tempUserCredentials.email,\n                                                            tempUserCredentials.password\n                                                        );\n                                                        const user = userCredential.user;\n\n                                                        if (user.emailVerified) {\n                                                            console.log('✅ Email verified!');\n                                                            setIsEmailVerified(true);\n                                                            alert('✅ Email verified successfully! You can now continue.');\n\n                                                            // Sign out again to maintain the logged-out state\n                                                            await signOut(auth);\n                                                            setUser(null);\n                                                            setUserData(null);\n                                                        } else {\n                                                            console.log('Email not verified yet');\n                                                            alert('Email not verified yet. Please check your email and click the verification link.');\n\n                                                            // Sign out after checking\n                                                            await signOut(auth);\n                                                            setUser(null);\n                                                            setUserData(null);\n                                                        }\n                                                    } else {\n                                                        alert('Verification credentials not available. Please try sending the verification email again.');\n                                                    }\n                                                } catch (error) {\n                                                    console.error('Error checking verification:', error);\n                                                    alert('Error checking verification. Please try again.');\n                                                } finally {\n                                                    setIsCheckingVerification(false);\n                                                }\n                                            }}\n                                            disabled={isCheckingVerification}\n                                            className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors flex items-center ${isCheckingVerification\n                                                ? 'bg-gray-400 text-gray-200 cursor-not-allowed'\n                                                : 'bg-blue-600 text-white hover:bg-blue-700 shadow-md'\n                                                }`}\n                                        >\n                                            {isCheckingVerification ? (\n                                                <>\n                                                    <i className=\"fas fa-spinner fa-spin mr-2\"></i>\n                                                    Checking...\n                                                </>\n                                            ) : (\n                                                <>\n                                                    <i className=\"fas fa-check-circle mr-2\"></i>\n                                                    Check Verification\n                                                </>\n                                            )}\n                                        </button>\n                                    </div>\n                                </div>\n                            )}\n\n                            {isEmailVerified && (\n                                <div className=\"mt-3 p-3 bg-green-50 border border-green-200 rounded-lg\">\n                                    <div className=\"flex items-center\">\n                                        <i className=\"fas fa-check-circle text-green-600 mr-2\"></i>\n                                        <p className=\"text-sm text-green-800 font-medium\">Email verified successfully! You can now proceed to the next step.</p>\n                                    </div>\n                                </div>\n                            )}\n\n                            <button\n                                type=\"button\"\n                                onClick={handleNextStep}\n                                disabled={!isEmailVerified}\n                                className={`w-full py-3 px-4 rounded-lg text-lg font-semibold transition-colors duration-200 flex items-center justify-center ${!isEmailVerified\n                                    ? 'bg-gray-300 text-gray-500 cursor-not-allowed'\n                                    : 'bg-primary-600 text-white hover:bg-primary-700 shadow-md'\n                                    }`}\n                            >\n                                {!isEmailVerified ? (\n                                    <>\n                                        <i className=\"fas fa-envelope mr-2\"></i>\n                                        Verify Email to Continue\n                                    </>\n                                ) : (\n                                    <>\n                                        Next Step\n                                        <i className=\"fas fa-arrow-right ml-2\"></i>\n                                    </>\n                                )}\n                            </button>\n                        </div>\n                    )}\n\n                    {currentStep === 2 && (\n                        <div className=\"space-y-6\">\n                            <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">Income & Security</h2>\n\n                            <div>\n                                <label className=\"form-label\">Monthly Income (₹) *</label>\n                                <input\n                                    type=\"number\"\n                                    name=\"monthlyIncome\"\n                                    value={formData.monthlyIncome}\n                                    onChange={handleChange}\n                                    className={`form-input ${errors.monthlyIncome ? 'border-red-500' : ''}`}\n                                    placeholder=\"Enter your gross monthly income\"\n                                />\n                                {errors.monthlyIncome && <p className=\"text-red-500 text-sm mt-1\">{errors.monthlyIncome}</p>}\n                            </div>\n\n                            <div className=\"flex justify-between items-center\">\n                                <button\n                                    type=\"button\"\n                                    onClick={handlePreviousStep}\n                                    className=\"btn-secondary py-2 px-4 rounded-md text-lg font-semibold transition-colors duration-200\"\n                                >\n                                    <i className=\"fas fa-arrow-left mr-2\"></i> Previous\n                                </button>\n                                <button\n                                    type=\"submit\"\n                                    className=\"btn-primary py-2 px-4 rounded-md text-lg font-semibold transition-colors duration-200\"\n                                >\n                                    Register <i className=\"fas fa-check-circle ml-2\"></i>\n                                </button>\n                            </div>\n                        </div>\n                    )}\n                </form>\n\n                <div className=\"mt-6 text-center\">\n                    <p className=\"text-sm text-gray-600\">\n                        Already have an account?{' '}\n                        <a href=\"/login\" className=\"font-medium text-primary-600 hover:text-primary-500\">\n                            Login\n                        </a>\n                    </p>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Registration;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
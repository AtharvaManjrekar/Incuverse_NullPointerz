{"ast":null,"code":"var _jsxFileName = \"D:\\\\CollegeFolder_B-TECH\\\\Incuverse\\\\src\\\\pages\\\\Registration.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { createUserWithEmailAndPassword, sendEmailVerification, onAuthStateChanged, signOut } from 'firebase/auth';\nimport { auth } from '../firebaseConfig';\nimport { addData } from './firestore';\nimport { useAuth } from '../contexts/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Registration = () => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    setUser,\n    setUserData\n  } = useAuth();\n  const [currentStep, setCurrentStep] = useState(1);\n  const [formData, setFormData] = useState({\n    // Personal Information\n    firstName: '',\n    lastName: '',\n    email: '',\n    age: '',\n    location: '',\n    maritalStatus: '',\n    dependents: '',\n    // Income & Security\n    monthlyIncome: '',\n    password: '',\n    confirmPassword: ''\n  });\n  const [errors, setErrors] = useState({});\n  const [isAnimating, setIsAnimating] = useState(false);\n  const [isEmailVerified, setIsEmailVerified] = useState(false);\n  const [isCreatingAccount, setIsCreatingAccount] = useState(false);\n  const [verificationSent, setVerificationSent] = useState(false);\n  const [checkInterval, setCheckInterval] = useState(null);\n  const [isCheckingVerification, setIsCheckingVerification] = useState(false);\n\n  // Monitor email verification status\n  useEffect(() => {\n    if (verificationSent && !isEmailVerified) {\n      const interval = setInterval(async () => {\n        try {\n          const user = auth.currentUser;\n          if (user) {\n            await user.reload(); // Refresh user data\n            if (user.emailVerified) {\n              console.log('‚úÖ Email verified!');\n              setIsEmailVerified(true);\n              clearInterval(interval);\n              setCheckInterval(null);\n            }\n          }\n        } catch (error) {\n          console.log('Error checking verification status:', error);\n        }\n      }, 2000); // Check every 2 seconds\n\n      setCheckInterval(interval);\n\n      // Cleanup interval on component unmount\n      return () => {\n        if (interval) {\n          clearInterval(interval);\n        }\n      };\n    }\n  }, [verificationSent, isEmailVerified]);\n\n  // Cleanup interval when email is verified\n  useEffect(() => {\n    if (isEmailVerified && checkInterval) {\n      clearInterval(checkInterval);\n      setCheckInterval(null);\n    }\n  }, [isEmailVerified, checkInterval]);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    if (errors[name]) {\n      setErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n  };\n  const validateStep = step => {\n    const newErrors = {};\n    let isValid = true;\n    if (step === 1) {\n      if (!formData.firstName.trim()) {\n        newErrors.firstName = 'First Name is required';\n        isValid = false;\n      }\n      if (!formData.lastName.trim()) {\n        newErrors.lastName = 'Last Name is required';\n        isValid = false;\n      }\n      if (!formData.email.trim()) {\n        newErrors.email = 'Email is required';\n        isValid = false;\n      } else if (!/\\S+@\\S+\\.\\S/.test(formData.email)) {\n        newErrors.email = 'Email is invalid';\n        isValid = false;\n      }\n      if (!formData.password.trim()) {\n        newErrors.password = 'Password is required';\n        isValid = false;\n      } else if (formData.password.length < 6) {\n        newErrors.password = 'Password must be at least 6 characters';\n        isValid = false;\n      }\n      if (formData.password !== formData.confirmPassword) {\n        newErrors.confirmPassword = 'Passwords do not match';\n        isValid = false;\n      }\n      if (!formData.age.trim()) {\n        newErrors.age = 'Age is required';\n        isValid = false;\n      } else if (isNaN(formData.age) || parseInt(formData.age) < 18) {\n        newErrors.age = 'Age must be a number and at least 18';\n        isValid = false;\n      }\n      if (!formData.location.trim()) {\n        newErrors.location = 'Location is required';\n        isValid = false;\n      }\n      if (!formData.maritalStatus.trim()) {\n        newErrors.maritalStatus = 'Marital Status is required';\n        isValid = false;\n      }\n      if (!formData.dependents.trim()) {\n        newErrors.dependents = 'Number of Dependents is required';\n        isValid = false;\n      } else if (isNaN(formData.dependents) || parseInt(formData.dependents) < 0) {\n        newErrors.dependents = 'Dependents must be a non-negative number';\n        isValid = false;\n      }\n    } else if (step === 2) {\n      if (!formData.monthlyIncome.trim()) {\n        newErrors.monthlyIncome = 'Monthly Income is required';\n        isValid = false;\n      } else if (isNaN(formData.monthlyIncome) || parseFloat(formData.monthlyIncome) <= 0) {\n        newErrors.monthlyIncome = 'Monthly Income must be a positive number';\n        isValid = false;\n      }\n    }\n    setErrors(newErrors);\n    return isValid;\n  };\n  const handleNextStep = async () => {\n    if (validateStep(currentStep)) {\n      if (currentStep === 1) {\n        setIsAnimating(true);\n        setTimeout(() => {\n          setCurrentStep(2);\n          setIsAnimating(false);\n        }, 300);\n      }\n    }\n  };\n  const handlePreviousStep = () => {\n    setIsAnimating(true);\n    setTimeout(() => {\n      setCurrentStep(1);\n      setIsAnimating(false);\n    }, 300);\n  };\n  const handleEmailVerification = async () => {\n    if (!formData.email || !formData.password) {\n      setErrors(prev => ({\n        ...prev,\n        email: \"Email and password are required.\"\n      }));\n      return;\n    }\n    setIsCreatingAccount(true);\n    setErrors({});\n    try {\n      // Create user with REAL password - PRODUCTION READY\n      const userCredential = await createUserWithEmailAndPassword(auth, formData.email, formData.password);\n      const user = userCredential.user;\n\n      // Set display name (with error handling)\n      try {\n        if (user && typeof user.updateProfile === 'function') {\n          await user.updateProfile({\n            displayName: `${formData.firstName} ${formData.lastName}`\n          });\n          console.log(\"‚úÖ Display name set successfully\");\n        } else {\n          console.log(\"‚ö†Ô∏è updateProfile method not available, skipping display name update\");\n          // Store display name in localStorage as fallback\n          localStorage.setItem('userDisplayName', `${formData.firstName} ${formData.lastName}`);\n        }\n      } catch (profileError) {\n        console.log(\"‚ö†Ô∏è Profile update failed, continuing with verification:\", profileError);\n        // Store display name in localStorage as fallback\n        localStorage.setItem('userDisplayName', `${formData.firstName} ${formData.lastName}`);\n      }\n\n      // Send verification email\n      await sendEmailVerification(user);\n      console.log(\"‚úÖ Verification email sent successfully to:\", formData.email);\n      setVerificationSent(true);\n\n      // Sign out the user immediately after sending verification email\n      // This prevents the navbar from showing logged-in state during registration\n      try {\n        await signOut(auth);\n        setUser(null);\n        setUserData(null);\n        console.log(\"‚úÖ User signed out after sending verification email\");\n      } catch (signOutError) {\n        console.log(\"‚ö†Ô∏è Sign out failed after verification email:\", signOutError);\n        // Still clear AuthContext state\n        setUser(null);\n        setUserData(null);\n      }\n      alert(`Verification email sent to ${formData.email}. Please check your email and click the verification link to continue.`);\n    } catch (error) {\n      setIsCreatingAccount(false);\n      let errorMessage = 'Failed to create account. Please try again.';\n      switch (error.code) {\n        case 'auth/email-already-in-use':\n          errorMessage = 'This email is already in use. Please login or use a different email.';\n          break;\n        case 'auth/invalid-email':\n          errorMessage = 'The email address is invalid.';\n          break;\n        case 'auth/weak-password':\n          errorMessage = 'The password is too weak. Please use a stronger password.';\n          break;\n        default:\n          errorMessage = error.message;\n      }\n      setErrors(prev => ({\n        ...prev,\n        email: errorMessage\n      }));\n      console.error(\"Firebase registration error:\", error);\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (validateStep(currentStep)) {\n      try {\n        console.log(\"Form submitted:\", formData);\n\n        // Get current user\n        const user = auth.currentUser;\n        if (!user) {\n          alert(\"Please complete email verification first!\");\n          return;\n        }\n\n        // Prepare data for Firestore\n        const userData = {\n          userId: user.uid,\n          email: user.email,\n          emailVerified: user.emailVerified,\n          firstName: formData.firstName,\n          lastName: formData.lastName,\n          age: parseInt(formData.age),\n          location: formData.location,\n          maritalStatus: formData.maritalStatus,\n          dependents: parseInt(formData.dependents),\n          monthlyIncome: parseFloat(formData.monthlyIncome),\n          password: formData.password,\n          createdAt: new Date(),\n          updatedAt: new Date()\n        };\n\n        // Store data in Firestore\n        try {\n          console.log(\"üîç Storing user data in Firestore:\", userData);\n          const result = await addData('users', userData);\n          console.log(\"üîç Firestore result:\", result);\n          if (result.success) {\n            console.log(\"‚úÖ User data stored successfully in Firestore:\", result.id);\n\n            // Sign out the user after successful registration\n            try {\n              await signOut(auth);\n              // Also clear AuthContext state manually\n              setUser(null);\n              setUserData(null);\n              console.log(\"‚úÖ User signed out after registration\");\n            } catch (signOutError) {\n              console.log(\"‚ö†Ô∏è Sign out failed, but registration was successful:\", signOutError);\n              // Still clear AuthContext state even if signOut fails\n              setUser(null);\n              setUserData(null);\n            }\n            alert(\"Registration successful! Please login to continue.\");\n            navigate(\"/login\");\n          } else {\n            throw new Error(result.error);\n          }\n        } catch (firestoreError) {\n          console.error(\"‚ùå Firestore error:\", firestoreError);\n          alert(\"Registration completed but data storage failed. Please try again.\");\n        }\n      } catch (error) {\n        console.error(\"Error during registration:\", error);\n        alert(\"An error occurred during registration. Please try again.\");\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 min-h-screen flex flex-col justify-center\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card w-full p-6 shadow-lg border rounded-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-user-plus text-primary-600 text-2xl\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-bold text-gray-900 mb-2\",\n          children: \"Create Your Account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Join us to plan your perfect retirement\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: `transition-all duration-300 ${isAnimating ? 'opacity-0 transform translate-x-4' : 'opacity-100 transform translate-x-0'}`,\n        children: [currentStep === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-semibold text-gray-900 mb-4\",\n            children: \"Personal Information\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: \"First Name *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"firstName\",\n                value: formData.firstName,\n                onChange: handleChange,\n                className: `form-input ${errors.firstName ? 'border-red-500' : ''}`,\n                placeholder: \"Enter your first name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 37\n              }, this), errors.firstName && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-red-500 text-sm mt-1\",\n                children: errors.firstName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 359,\n                columnNumber: 58\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: \"Last Name *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 362,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"lastName\",\n                value: formData.lastName,\n                onChange: handleChange,\n                className: `form-input ${errors.lastName ? 'border-red-500' : ''}`,\n                placeholder: \"Enter your last name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 37\n              }, this), errors.lastName && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-red-500 text-sm mt-1\",\n                children: errors.lastName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 57\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Email Address *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              name: \"email\",\n              value: formData.email,\n              onChange: handleChange,\n              className: `form-input ${errors.email ? 'border-red-500' : ''}`,\n              placeholder: \"Enter your email address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 33\n            }, this), errors.email && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-red-500 text-sm mt-1\",\n              children: errors.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 50\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Password *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              name: \"password\",\n              value: formData.password,\n              onChange: handleChange,\n              className: `form-input ${errors.password ? 'border-red-500' : ''}`,\n              placeholder: \"Create a strong password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 33\n            }, this), errors.password && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-red-500 text-sm mt-1\",\n              children: errors.password\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 53\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Confirm Password *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              name: \"confirmPassword\",\n              value: formData.confirmPassword,\n              onChange: handleChange,\n              className: `form-input ${errors.confirmPassword ? 'border-red-500' : ''}`,\n              placeholder: \"Confirm your password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 403,\n              columnNumber: 33\n            }, this), errors.confirmPassword && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-red-500 text-sm mt-1\",\n              children: errors.confirmPassword\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 60\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: \"Age *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                name: \"age\",\n                value: formData.age,\n                onChange: handleChange,\n                className: `form-input ${errors.age ? 'border-red-500' : ''}`,\n                placeholder: \"Your current age\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 37\n              }, this), errors.age && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-red-500 text-sm mt-1\",\n                children: errors.age\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 425,\n                columnNumber: 52\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: \"Location *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 428,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"location\",\n                value: formData.location,\n                onChange: handleChange,\n                className: `form-input ${errors.location ? 'border-red-500' : ''}`,\n                placeholder: \"Your city or region\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 429,\n                columnNumber: 37\n              }, this), errors.location && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-red-500 text-sm mt-1\",\n                children: errors.location\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 437,\n                columnNumber: 57\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 427,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 414,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: \"Marital Status *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"maritalStatus\",\n                value: formData.maritalStatus,\n                onChange: handleChange,\n                className: `form-select ${errors.maritalStatus ? 'border-red-500' : ''}`,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Select status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 450,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"single\",\n                  children: \"Single\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 451,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"married\",\n                  children: \"Married\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 452,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"divorced\",\n                  children: \"Divorced\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 453,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"widowed\",\n                  children: \"Widowed\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 454,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 37\n              }, this), errors.maritalStatus && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-red-500 text-sm mt-1\",\n                children: errors.maritalStatus\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 456,\n                columnNumber: 62\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 442,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: \"Number of Dependents *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 459,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                name: \"dependents\",\n                value: formData.dependents,\n                onChange: handleChange,\n                className: `form-input ${errors.dependents ? 'border-red-500' : ''}`,\n                placeholder: \"E.g., 0, 1, 2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 460,\n                columnNumber: 37\n              }, this), errors.dependents && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-red-500 text-sm mt-1\",\n                children: errors.dependents\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 468,\n                columnNumber: 59\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 441,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: handleEmailVerification,\n              disabled: isCreatingAccount || isEmailVerified || !formData.email || !formData.password,\n              className: `w-full px-4 py-2 rounded-lg text-sm font-medium transition-colors ${isEmailVerified ? 'bg-green-100 text-green-700 border border-green-300' : isCreatingAccount ? 'bg-gray-100 text-gray-500 border border-gray-300 cursor-not-allowed' : 'bg-primary-600 text-white hover:bg-primary-700'}`,\n              children: isCreatingAccount ? 'Sending...' : isEmailVerified ? 'Verified ‚úì' : 'Send Verification Email'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 473,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 29\n          }, this), verificationSent && !isEmailVerified && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-blue-800 font-medium\",\n                  children: \"Verification email sent!\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 493,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-blue-600\",\n                  children: \"Please check your email and click the verification link to continue.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 494,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 492,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: async () => {\n                  setIsCheckingVerification(true);\n                  try {\n                    const user = auth.currentUser;\n                    if (user) {\n                      await user.reload();\n                      if (user.emailVerified) {\n                        console.log('‚úÖ Email verified after reload!');\n                        setIsEmailVerified(true);\n                        alert('‚úÖ Email verified successfully! You can now continue.');\n                      } else {\n                        console.log('Email not verified yet');\n                        alert('Email not verified yet. Please check your email and click the verification link.');\n                      }\n                    }\n                  } catch (error) {\n                    console.error('Error checking verification:', error);\n                    alert('Error checking verification. Please try again.');\n                  } finally {\n                    setIsCheckingVerification(false);\n                  }\n                },\n                disabled: isCheckingVerification,\n                className: `px-3 py-1 text-xs rounded transition-colors ${isCheckingVerification ? 'bg-gray-400 text-gray-200 cursor-not-allowed' : 'bg-blue-600 text-white hover:bg-blue-700'}`,\n                children: isCheckingVerification ? 'Checking...' : 'Check Verification'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 496,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 33\n          }, this), isEmailVerified && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3 p-3 bg-green-50 border border-green-200 rounded-lg\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-check-circle text-green-600 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 535,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-green-800 font-medium\",\n                children: \"Email verified successfully! You can now proceed to the next step.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 536,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 534,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 533,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: handleNextStep,\n            disabled: !isEmailVerified,\n            className: `btn-primary w-full py-2 px-4 rounded-md text-lg font-semibold transition-colors duration-200 ${!isEmailVerified ? 'opacity-50 cursor-not-allowed' : ''}`,\n            children: [!isEmailVerified ? 'Verify Email to Continue' : 'Next Step', \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-arrow-right ml-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 547,\n              columnNumber: 95\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 541,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 25\n        }, this), currentStep === 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-semibold text-gray-900 mb-4\",\n            children: \"Income & Security\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 554,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Monthly Income (\\u20B9) *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 557,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              name: \"monthlyIncome\",\n              value: formData.monthlyIncome,\n              onChange: handleChange,\n              className: `form-input ${errors.monthlyIncome ? 'border-red-500' : ''}`,\n              placeholder: \"Enter your gross monthly income\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 558,\n              columnNumber: 33\n            }, this), errors.monthlyIncome && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-red-500 text-sm mt-1\",\n              children: errors.monthlyIncome\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 566,\n              columnNumber: 58\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 556,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: handlePreviousStep,\n              className: \"btn-secondary py-2 px-4 rounded-md text-lg font-semibold transition-colors duration-200\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-arrow-left mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 575,\n                columnNumber: 37\n              }, this), \" Previous\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 570,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn-primary py-2 px-4 rounded-md text-lg font-semibold transition-colors duration-200\",\n              children: [\"Register \", /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-check-circle ml-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 581,\n                columnNumber: 46\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 577,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 569,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 553,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6 text-center\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600\",\n          children: [\"Already have an account?\", ' ', /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/login\",\n            className: \"font-medium text-primary-600 hover:text-primary-500\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 591,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 589,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 588,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 333,\n    columnNumber: 9\n  }, this);\n};\n_s(Registration, \"dAxgY310h83ZjeeskQBqzbFQZJs=\", false, function () {\n  return [useNavigate, useAuth];\n});\n_c = Registration;\nexport default Registration;\nvar _c;\n$RefreshReg$(_c, \"Registration\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","createUserWithEmailAndPassword","sendEmailVerification","onAuthStateChanged","signOut","auth","addData","useAuth","jsxDEV","_jsxDEV","Registration","_s","navigate","setUser","setUserData","currentStep","setCurrentStep","formData","setFormData","firstName","lastName","email","age","location","maritalStatus","dependents","monthlyIncome","password","confirmPassword","errors","setErrors","isAnimating","setIsAnimating","isEmailVerified","setIsEmailVerified","isCreatingAccount","setIsCreatingAccount","verificationSent","setVerificationSent","checkInterval","setCheckInterval","isCheckingVerification","setIsCheckingVerification","interval","setInterval","user","currentUser","reload","emailVerified","console","log","clearInterval","error","handleChange","e","name","value","target","prev","validateStep","step","newErrors","isValid","trim","test","length","isNaN","parseInt","parseFloat","handleNextStep","setTimeout","handlePreviousStep","handleEmailVerification","userCredential","updateProfile","displayName","localStorage","setItem","profileError","signOutError","alert","errorMessage","code","message","handleSubmit","preventDefault","userData","userId","uid","createdAt","Date","updatedAt","result","success","id","Error","firestoreError","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","onChange","placeholder","onClick","disabled","href","_c","$RefreshReg$"],"sources":["D:/CollegeFolder_B-TECH/Incuverse/src/pages/Registration.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport {\r\n    createUserWithEmailAndPassword,\r\n    sendEmailVerification,\r\n    onAuthStateChanged,\r\n    signOut,\r\n} from 'firebase/auth';\r\nimport { auth } from '../firebaseConfig';\r\nimport { addData } from './firestore';\r\nimport { useAuth } from '../contexts/AuthContext';\r\n\r\nconst Registration = () => {\r\n    const navigate = useNavigate();\r\n    const { setUser, setUserData } = useAuth();\r\n    const [currentStep, setCurrentStep] = useState(1);\r\n    const [formData, setFormData] = useState({\r\n        // Personal Information\r\n        firstName: '',\r\n        lastName: '',\r\n        email: '',\r\n        age: '',\r\n        location: '',\r\n        maritalStatus: '',\r\n        dependents: '',\r\n        // Income & Security\r\n        monthlyIncome: '',\r\n        password: '',\r\n        confirmPassword: ''\r\n    });\r\n    const [errors, setErrors] = useState({});\r\n    const [isAnimating, setIsAnimating] = useState(false);\r\n    const [isEmailVerified, setIsEmailVerified] = useState(false);\r\n    const [isCreatingAccount, setIsCreatingAccount] = useState(false);\r\n    const [verificationSent, setVerificationSent] = useState(false);\r\n    const [checkInterval, setCheckInterval] = useState(null);\r\n    const [isCheckingVerification, setIsCheckingVerification] = useState(false);\r\n\r\n    // Monitor email verification status\r\n    useEffect(() => {\r\n        if (verificationSent && !isEmailVerified) {\r\n            const interval = setInterval(async () => {\r\n                try {\r\n                    const user = auth.currentUser;\r\n                    if (user) {\r\n                        await user.reload(); // Refresh user data\r\n                        if (user.emailVerified) {\r\n                            console.log('‚úÖ Email verified!');\r\n                            setIsEmailVerified(true);\r\n                            clearInterval(interval);\r\n                            setCheckInterval(null);\r\n                        }\r\n                    }\r\n                } catch (error) {\r\n                    console.log('Error checking verification status:', error);\r\n                }\r\n            }, 2000); // Check every 2 seconds\r\n\r\n            setCheckInterval(interval);\r\n\r\n            // Cleanup interval on component unmount\r\n            return () => {\r\n                if (interval) {\r\n                    clearInterval(interval);\r\n                }\r\n            };\r\n        }\r\n    }, [verificationSent, isEmailVerified]);\r\n\r\n    // Cleanup interval when email is verified\r\n    useEffect(() => {\r\n        if (isEmailVerified && checkInterval) {\r\n            clearInterval(checkInterval);\r\n            setCheckInterval(null);\r\n        }\r\n    }, [isEmailVerified, checkInterval]);\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setFormData(prev => ({\r\n            ...prev,\r\n            [name]: value\r\n        }));\r\n        if (errors[name]) {\r\n            setErrors(prev => ({\r\n                ...prev,\r\n                [name]: ''\r\n            }));\r\n        }\r\n    };\r\n\r\n    const validateStep = (step) => {\r\n        const newErrors = {};\r\n        let isValid = true;\r\n\r\n        if (step === 1) {\r\n            if (!formData.firstName.trim()) {\r\n                newErrors.firstName = 'First Name is required';\r\n                isValid = false;\r\n            }\r\n            if (!formData.lastName.trim()) {\r\n                newErrors.lastName = 'Last Name is required';\r\n                isValid = false;\r\n            }\r\n            if (!formData.email.trim()) {\r\n                newErrors.email = 'Email is required';\r\n                isValid = false;\r\n            } else if (!/\\S+@\\S+\\.\\S/.test(formData.email)) {\r\n                newErrors.email = 'Email is invalid';\r\n                isValid = false;\r\n            }\r\n            if (!formData.password.trim()) {\r\n                newErrors.password = 'Password is required';\r\n                isValid = false;\r\n            } else if (formData.password.length < 6) {\r\n                newErrors.password = 'Password must be at least 6 characters';\r\n                isValid = false;\r\n            }\r\n            if (formData.password !== formData.confirmPassword) {\r\n                newErrors.confirmPassword = 'Passwords do not match';\r\n                isValid = false;\r\n            }\r\n            if (!formData.age.trim()) {\r\n                newErrors.age = 'Age is required';\r\n                isValid = false;\r\n            } else if (isNaN(formData.age) || parseInt(formData.age) < 18) {\r\n                newErrors.age = 'Age must be a number and at least 18';\r\n                isValid = false;\r\n            }\r\n            if (!formData.location.trim()) {\r\n                newErrors.location = 'Location is required';\r\n                isValid = false;\r\n            }\r\n            if (!formData.maritalStatus.trim()) {\r\n                newErrors.maritalStatus = 'Marital Status is required';\r\n                isValid = false;\r\n            }\r\n            if (!formData.dependents.trim()) {\r\n                newErrors.dependents = 'Number of Dependents is required';\r\n                isValid = false;\r\n            } else if (isNaN(formData.dependents) || parseInt(formData.dependents) < 0) {\r\n                newErrors.dependents = 'Dependents must be a non-negative number';\r\n                isValid = false;\r\n            }\r\n        } else if (step === 2) {\r\n            if (!formData.monthlyIncome.trim()) {\r\n                newErrors.monthlyIncome = 'Monthly Income is required';\r\n                isValid = false;\r\n            } else if (isNaN(formData.monthlyIncome) || parseFloat(formData.monthlyIncome) <= 0) {\r\n                newErrors.monthlyIncome = 'Monthly Income must be a positive number';\r\n                isValid = false;\r\n            }\r\n        }\r\n\r\n        setErrors(newErrors);\r\n        return isValid;\r\n    };\r\n\r\n    const handleNextStep = async () => {\r\n        if (validateStep(currentStep)) {\r\n            if (currentStep === 1) {\r\n                setIsAnimating(true);\r\n                setTimeout(() => {\r\n                    setCurrentStep(2);\r\n                    setIsAnimating(false);\r\n                }, 300);\r\n            }\r\n        }\r\n    };\r\n\r\n    const handlePreviousStep = () => {\r\n        setIsAnimating(true);\r\n        setTimeout(() => {\r\n            setCurrentStep(1);\r\n            setIsAnimating(false);\r\n        }, 300);\r\n    };\r\n\r\n    const handleEmailVerification = async () => {\r\n        if (!formData.email || !formData.password) {\r\n            setErrors((prev) => ({\r\n                ...prev,\r\n                email: \"Email and password are required.\",\r\n            }));\r\n            return;\r\n        }\r\n\r\n        setIsCreatingAccount(true);\r\n        setErrors({});\r\n\r\n        try {\r\n            // Create user with REAL password - PRODUCTION READY\r\n            const userCredential = await createUserWithEmailAndPassword(\r\n                auth,\r\n                formData.email,\r\n                formData.password\r\n            );\r\n            const user = userCredential.user;\r\n\r\n            // Set display name (with error handling)\r\n            try {\r\n                if (user && typeof user.updateProfile === 'function') {\r\n                    await user.updateProfile({\r\n                        displayName: `${formData.firstName} ${formData.lastName}`\r\n                    });\r\n                    console.log(\"‚úÖ Display name set successfully\");\r\n                } else {\r\n                    console.log(\"‚ö†Ô∏è updateProfile method not available, skipping display name update\");\r\n                    // Store display name in localStorage as fallback\r\n                    localStorage.setItem('userDisplayName', `${formData.firstName} ${formData.lastName}`);\r\n                }\r\n            } catch (profileError) {\r\n                console.log(\"‚ö†Ô∏è Profile update failed, continuing with verification:\", profileError);\r\n                // Store display name in localStorage as fallback\r\n                localStorage.setItem('userDisplayName', `${formData.firstName} ${formData.lastName}`);\r\n            }\r\n\r\n            // Send verification email\r\n            await sendEmailVerification(user);\r\n            console.log(\"‚úÖ Verification email sent successfully to:\", formData.email);\r\n            setVerificationSent(true);\r\n\r\n            // Sign out the user immediately after sending verification email\r\n            // This prevents the navbar from showing logged-in state during registration\r\n            try {\r\n                await signOut(auth);\r\n                setUser(null);\r\n                setUserData(null);\r\n                console.log(\"‚úÖ User signed out after sending verification email\");\r\n            } catch (signOutError) {\r\n                console.log(\"‚ö†Ô∏è Sign out failed after verification email:\", signOutError);\r\n                // Still clear AuthContext state\r\n                setUser(null);\r\n                setUserData(null);\r\n            }\r\n\r\n            alert(`Verification email sent to ${formData.email}. Please check your email and click the verification link to continue.`);\r\n\r\n        } catch (error) {\r\n            setIsCreatingAccount(false);\r\n            let errorMessage = 'Failed to create account. Please try again.';\r\n            switch (error.code) {\r\n                case 'auth/email-already-in-use':\r\n                    errorMessage = 'This email is already in use. Please login or use a different email.';\r\n                    break;\r\n                case 'auth/invalid-email':\r\n                    errorMessage = 'The email address is invalid.';\r\n                    break;\r\n                case 'auth/weak-password':\r\n                    errorMessage = 'The password is too weak. Please use a stronger password.';\r\n                    break;\r\n                default:\r\n                    errorMessage = error.message;\r\n            }\r\n            setErrors(prev => ({\r\n                ...prev,\r\n                email: errorMessage\r\n            }));\r\n            console.error(\"Firebase registration error:\", error);\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        if (validateStep(currentStep)) {\r\n            try {\r\n                console.log(\"Form submitted:\", formData);\r\n\r\n                // Get current user\r\n                const user = auth.currentUser;\r\n                if (!user) {\r\n                    alert(\"Please complete email verification first!\");\r\n                    return;\r\n                }\r\n\r\n                // Prepare data for Firestore\r\n                const userData = {\r\n                    userId: user.uid,\r\n                    email: user.email,\r\n                    emailVerified: user.emailVerified,\r\n                    firstName: formData.firstName,\r\n                    lastName: formData.lastName,\r\n                    age: parseInt(formData.age),\r\n                    location: formData.location,\r\n                    maritalStatus: formData.maritalStatus,\r\n                    dependents: parseInt(formData.dependents),\r\n                    monthlyIncome: parseFloat(formData.monthlyIncome),\r\n                    password: formData.password,\r\n                    createdAt: new Date(),\r\n                    updatedAt: new Date()\r\n                };\r\n\r\n                // Store data in Firestore\r\n                try {\r\n                    console.log(\"üîç Storing user data in Firestore:\", userData);\r\n                    const result = await addData('users', userData);\r\n                    console.log(\"üîç Firestore result:\", result);\r\n\r\n                    if (result.success) {\r\n                        console.log(\"‚úÖ User data stored successfully in Firestore:\", result.id);\r\n\r\n                        // Sign out the user after successful registration\r\n                        try {\r\n                            await signOut(auth);\r\n                            // Also clear AuthContext state manually\r\n                            setUser(null);\r\n                            setUserData(null);\r\n                            console.log(\"‚úÖ User signed out after registration\");\r\n                        } catch (signOutError) {\r\n                            console.log(\"‚ö†Ô∏è Sign out failed, but registration was successful:\", signOutError);\r\n                            // Still clear AuthContext state even if signOut fails\r\n                            setUser(null);\r\n                            setUserData(null);\r\n                        }\r\n\r\n                        alert(\"Registration successful! Please login to continue.\");\r\n                        navigate(\"/login\");\r\n                    } else {\r\n                        throw new Error(result.error);\r\n                    }\r\n                } catch (firestoreError) {\r\n                    console.error(\"‚ùå Firestore error:\", firestoreError);\r\n                    alert(\"Registration completed but data storage failed. Please try again.\");\r\n                }\r\n            } catch (error) {\r\n                console.error(\"Error during registration:\", error);\r\n                alert(\"An error occurred during registration. Please try again.\");\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 min-h-screen flex flex-col justify-center\">\r\n            <div className=\"card w-full p-6 shadow-lg border rounded-lg\">\r\n                <div className=\"text-center mb-6\">\r\n                    <div className=\"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                        <i className=\"fas fa-user-plus text-primary-600 text-2xl\"></i>\r\n                    </div>\r\n                    <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Create Your Account</h1>\r\n                    <p className=\"text-gray-600\">Join us to plan your perfect retirement</p>\r\n                </div>\r\n\r\n                <form onSubmit={handleSubmit} className={`transition-all duration-300 ${isAnimating ? 'opacity-0 transform translate-x-4' : 'opacity-100 transform translate-x-0'}`}>\r\n                    {currentStep === 1 && (\r\n                        <div className=\"space-y-6\">\r\n                            <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">Personal Information</h2>\r\n\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                                <div>\r\n                                    <label className=\"form-label\">First Name *</label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        name=\"firstName\"\r\n                                        value={formData.firstName}\r\n                                        onChange={handleChange}\r\n                                        className={`form-input ${errors.firstName ? 'border-red-500' : ''}`}\r\n                                        placeholder=\"Enter your first name\"\r\n                                    />\r\n                                    {errors.firstName && <p className=\"text-red-500 text-sm mt-1\">{errors.firstName}</p>}\r\n                                </div>\r\n                                <div>\r\n                                    <label className=\"form-label\">Last Name *</label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        name=\"lastName\"\r\n                                        value={formData.lastName}\r\n                                        onChange={handleChange}\r\n                                        className={`form-input ${errors.lastName ? 'border-red-500' : ''}`}\r\n                                        placeholder=\"Enter your last name\"\r\n                                    />\r\n                                    {errors.lastName && <p className=\"text-red-500 text-sm mt-1\">{errors.lastName}</p>}\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label className=\"form-label\">Email Address *</label>\r\n                                <input\r\n                                    type=\"email\"\r\n                                    name=\"email\"\r\n                                    value={formData.email}\r\n                                    onChange={handleChange}\r\n                                    className={`form-input ${errors.email ? 'border-red-500' : ''}`}\r\n                                    placeholder=\"Enter your email address\"\r\n                                />\r\n                                {errors.email && <p className=\"text-red-500 text-sm mt-1\">{errors.email}</p>}\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label className=\"form-label\">Password *</label>\r\n                                <input\r\n                                    type=\"password\"\r\n                                    name=\"password\"\r\n                                    value={formData.password}\r\n                                    onChange={handleChange}\r\n                                    className={`form-input ${errors.password ? 'border-red-500' : ''}`}\r\n                                    placeholder=\"Create a strong password\"\r\n                                />\r\n                                {errors.password && <p className=\"text-red-500 text-sm mt-1\">{errors.password}</p>}\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label className=\"form-label\">Confirm Password *</label>\r\n                                <input\r\n                                    type=\"password\"\r\n                                    name=\"confirmPassword\"\r\n                                    value={formData.confirmPassword}\r\n                                    onChange={handleChange}\r\n                                    className={`form-input ${errors.confirmPassword ? 'border-red-500' : ''}`}\r\n                                    placeholder=\"Confirm your password\"\r\n                                />\r\n                                {errors.confirmPassword && <p className=\"text-red-500 text-sm mt-1\">{errors.confirmPassword}</p>}\r\n                            </div>\r\n\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                                <div>\r\n                                    <label className=\"form-label\">Age *</label>\r\n                                    <input\r\n                                        type=\"number\"\r\n                                        name=\"age\"\r\n                                        value={formData.age}\r\n                                        onChange={handleChange}\r\n                                        className={`form-input ${errors.age ? 'border-red-500' : ''}`}\r\n                                        placeholder=\"Your current age\"\r\n                                    />\r\n                                    {errors.age && <p className=\"text-red-500 text-sm mt-1\">{errors.age}</p>}\r\n                                </div>\r\n                                <div>\r\n                                    <label className=\"form-label\">Location *</label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        name=\"location\"\r\n                                        value={formData.location}\r\n                                        onChange={handleChange}\r\n                                        className={`form-input ${errors.location ? 'border-red-500' : ''}`}\r\n                                        placeholder=\"Your city or region\"\r\n                                    />\r\n                                    {errors.location && <p className=\"text-red-500 text-sm mt-1\">{errors.location}</p>}\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                                <div>\r\n                                    <label className=\"form-label\">Marital Status *</label>\r\n                                    <select\r\n                                        name=\"maritalStatus\"\r\n                                        value={formData.maritalStatus}\r\n                                        onChange={handleChange}\r\n                                        className={`form-select ${errors.maritalStatus ? 'border-red-500' : ''}`}\r\n                                    >\r\n                                        <option value=\"\">Select status</option>\r\n                                        <option value=\"single\">Single</option>\r\n                                        <option value=\"married\">Married</option>\r\n                                        <option value=\"divorced\">Divorced</option>\r\n                                        <option value=\"widowed\">Widowed</option>\r\n                                    </select>\r\n                                    {errors.maritalStatus && <p className=\"text-red-500 text-sm mt-1\">{errors.maritalStatus}</p>}\r\n                                </div>\r\n                                <div>\r\n                                    <label className=\"form-label\">Number of Dependents *</label>\r\n                                    <input\r\n                                        type=\"number\"\r\n                                        name=\"dependents\"\r\n                                        value={formData.dependents}\r\n                                        onChange={handleChange}\r\n                                        className={`form-input ${errors.dependents ? 'border-red-500' : ''}`}\r\n                                        placeholder=\"E.g., 0, 1, 2\"\r\n                                    />\r\n                                    {errors.dependents && <p className=\"text-red-500 text-sm mt-1\">{errors.dependents}</p>}\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"mt-4\">\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={handleEmailVerification}\r\n                                    disabled={isCreatingAccount || isEmailVerified || !formData.email || !formData.password}\r\n                                    className={`w-full px-4 py-2 rounded-lg text-sm font-medium transition-colors ${isEmailVerified\r\n                                        ? 'bg-green-100 text-green-700 border border-green-300'\r\n                                        : isCreatingAccount\r\n                                            ? 'bg-gray-100 text-gray-500 border border-gray-300 cursor-not-allowed'\r\n                                            : 'bg-primary-600 text-white hover:bg-primary-700'\r\n                                        }`}\r\n                                >\r\n                                    {isCreatingAccount ? 'Sending...' : isEmailVerified ? 'Verified ‚úì' : 'Send Verification Email'}\r\n                                </button>\r\n                            </div>\r\n\r\n                            {/* Email Verification Status */}\r\n                            {verificationSent && !isEmailVerified && (\r\n                                <div className=\"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg\">\r\n                                    <div className=\"flex items-center justify-between\">\r\n                                        <div>\r\n                                            <p className=\"text-sm text-blue-800 font-medium\">Verification email sent!</p>\r\n                                            <p className=\"text-xs text-blue-600\">Please check your email and click the verification link to continue.</p>\r\n                                        </div>\r\n                                        <button\r\n                                            type=\"button\"\r\n                                            onClick={async () => {\r\n                                                setIsCheckingVerification(true);\r\n                                                try {\r\n                                                    const user = auth.currentUser;\r\n                                                    if (user) {\r\n                                                        await user.reload();\r\n                                                        if (user.emailVerified) {\r\n                                                            console.log('‚úÖ Email verified after reload!');\r\n                                                            setIsEmailVerified(true);\r\n                                                            alert('‚úÖ Email verified successfully! You can now continue.');\r\n                                                        } else {\r\n                                                            console.log('Email not verified yet');\r\n                                                            alert('Email not verified yet. Please check your email and click the verification link.');\r\n                                                        }\r\n                                                    }\r\n                                                } catch (error) {\r\n                                                    console.error('Error checking verification:', error);\r\n                                                    alert('Error checking verification. Please try again.');\r\n                                                } finally {\r\n                                                    setIsCheckingVerification(false);\r\n                                                }\r\n                                            }}\r\n                                            disabled={isCheckingVerification}\r\n                                            className={`px-3 py-1 text-xs rounded transition-colors ${isCheckingVerification\r\n                                                ? 'bg-gray-400 text-gray-200 cursor-not-allowed'\r\n                                                : 'bg-blue-600 text-white hover:bg-blue-700'\r\n                                                }`}\r\n                                        >\r\n                                            {isCheckingVerification ? 'Checking...' : 'Check Verification'}\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n\r\n                            {isEmailVerified && (\r\n                                <div className=\"mt-3 p-3 bg-green-50 border border-green-200 rounded-lg\">\r\n                                    <div className=\"flex items-center\">\r\n                                        <i className=\"fas fa-check-circle text-green-600 mr-2\"></i>\r\n                                        <p className=\"text-sm text-green-800 font-medium\">Email verified successfully! You can now proceed to the next step.</p>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n\r\n                            <button\r\n                                type=\"button\"\r\n                                onClick={handleNextStep}\r\n                                disabled={!isEmailVerified}\r\n                                className={`btn-primary w-full py-2 px-4 rounded-md text-lg font-semibold transition-colors duration-200 ${!isEmailVerified ? 'opacity-50 cursor-not-allowed' : ''}`}\r\n                            >\r\n                                {!isEmailVerified ? 'Verify Email to Continue' : 'Next Step'} <i className=\"fas fa-arrow-right ml-2\"></i>\r\n                            </button>\r\n                        </div>\r\n                    )}\r\n\r\n                    {currentStep === 2 && (\r\n                        <div className=\"space-y-6\">\r\n                            <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">Income & Security</h2>\r\n\r\n                            <div>\r\n                                <label className=\"form-label\">Monthly Income (‚Çπ) *</label>\r\n                                <input\r\n                                    type=\"number\"\r\n                                    name=\"monthlyIncome\"\r\n                                    value={formData.monthlyIncome}\r\n                                    onChange={handleChange}\r\n                                    className={`form-input ${errors.monthlyIncome ? 'border-red-500' : ''}`}\r\n                                    placeholder=\"Enter your gross monthly income\"\r\n                                />\r\n                                {errors.monthlyIncome && <p className=\"text-red-500 text-sm mt-1\">{errors.monthlyIncome}</p>}\r\n                            </div>\r\n\r\n                            <div className=\"flex justify-between items-center\">\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={handlePreviousStep}\r\n                                    className=\"btn-secondary py-2 px-4 rounded-md text-lg font-semibold transition-colors duration-200\"\r\n                                >\r\n                                    <i className=\"fas fa-arrow-left mr-2\"></i> Previous\r\n                                </button>\r\n                                <button\r\n                                    type=\"submit\"\r\n                                    className=\"btn-primary py-2 px-4 rounded-md text-lg font-semibold transition-colors duration-200\"\r\n                                >\r\n                                    Register <i className=\"fas fa-check-circle ml-2\"></i>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </form>\r\n\r\n                <div className=\"mt-6 text-center\">\r\n                    <p className=\"text-sm text-gray-600\">\r\n                        Already have an account?{' '}\r\n                        <a href=\"/login\" className=\"font-medium text-primary-600 hover:text-primary-500\">\r\n                            Login\r\n                        </a>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Registration;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SACIC,8BAA8B,EAC9BC,qBAAqB,EACrBC,kBAAkB,EAClBC,OAAO,QACJ,eAAe;AACtB,SAASC,IAAI,QAAQ,mBAAmB;AACxC,SAASC,OAAO,QAAQ,aAAa;AACrC,SAASC,OAAO,QAAQ,yBAAyB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElD,MAAMC,YAAY,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACvB,MAAMC,QAAQ,GAAGZ,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAEa,OAAO;IAAEC;EAAY,CAAC,GAAGP,OAAO,CAAC,CAAC;EAC1C,MAAM,CAACQ,WAAW,EAAEC,cAAc,CAAC,GAAGlB,QAAQ,CAAC,CAAC,CAAC;EACjD,MAAM,CAACmB,QAAQ,EAAEC,WAAW,CAAC,GAAGpB,QAAQ,CAAC;IACrC;IACAqB,SAAS,EAAE,EAAE;IACbC,QAAQ,EAAE,EAAE;IACZC,KAAK,EAAE,EAAE;IACTC,GAAG,EAAE,EAAE;IACPC,QAAQ,EAAE,EAAE;IACZC,aAAa,EAAE,EAAE;IACjBC,UAAU,EAAE,EAAE;IACd;IACAC,aAAa,EAAE,EAAE;IACjBC,QAAQ,EAAE,EAAE;IACZC,eAAe,EAAE;EACrB,CAAC,CAAC;EACF,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGhC,QAAQ,CAAC,CAAC,CAAC,CAAC;EACxC,MAAM,CAACiC,WAAW,EAAEC,cAAc,CAAC,GAAGlC,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACmC,eAAe,EAAEC,kBAAkB,CAAC,GAAGpC,QAAQ,CAAC,KAAK,CAAC;EAC7D,MAAM,CAACqC,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGtC,QAAQ,CAAC,KAAK,CAAC;EACjE,MAAM,CAACuC,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGxC,QAAQ,CAAC,KAAK,CAAC;EAC/D,MAAM,CAACyC,aAAa,EAAEC,gBAAgB,CAAC,GAAG1C,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAM,CAAC2C,sBAAsB,EAAEC,yBAAyB,CAAC,GAAG5C,QAAQ,CAAC,KAAK,CAAC;;EAE3E;EACAC,SAAS,CAAC,MAAM;IACZ,IAAIsC,gBAAgB,IAAI,CAACJ,eAAe,EAAE;MACtC,MAAMU,QAAQ,GAAGC,WAAW,CAAC,YAAY;QACrC,IAAI;UACA,MAAMC,IAAI,GAAGxC,IAAI,CAACyC,WAAW;UAC7B,IAAID,IAAI,EAAE;YACN,MAAMA,IAAI,CAACE,MAAM,CAAC,CAAC,CAAC,CAAC;YACrB,IAAIF,IAAI,CAACG,aAAa,EAAE;cACpBC,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC;cAChChB,kBAAkB,CAAC,IAAI,CAAC;cACxBiB,aAAa,CAACR,QAAQ,CAAC;cACvBH,gBAAgB,CAAC,IAAI,CAAC;YAC1B;UACJ;QACJ,CAAC,CAAC,OAAOY,KAAK,EAAE;UACZH,OAAO,CAACC,GAAG,CAAC,qCAAqC,EAAEE,KAAK,CAAC;QAC7D;MACJ,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC;;MAEVZ,gBAAgB,CAACG,QAAQ,CAAC;;MAE1B;MACA,OAAO,MAAM;QACT,IAAIA,QAAQ,EAAE;UACVQ,aAAa,CAACR,QAAQ,CAAC;QAC3B;MACJ,CAAC;IACL;EACJ,CAAC,EAAE,CAACN,gBAAgB,EAAEJ,eAAe,CAAC,CAAC;;EAEvC;EACAlC,SAAS,CAAC,MAAM;IACZ,IAAIkC,eAAe,IAAIM,aAAa,EAAE;MAClCY,aAAa,CAACZ,aAAa,CAAC;MAC5BC,gBAAgB,CAAC,IAAI,CAAC;IAC1B;EACJ,CAAC,EAAE,CAACP,eAAe,EAAEM,aAAa,CAAC,CAAC;EAEpC,MAAMc,YAAY,GAAIC,CAAC,IAAK;IACxB,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAGF,CAAC,CAACG,MAAM;IAChCvC,WAAW,CAACwC,IAAI,KAAK;MACjB,GAAGA,IAAI;MACP,CAACH,IAAI,GAAGC;IACZ,CAAC,CAAC,CAAC;IACH,IAAI3B,MAAM,CAAC0B,IAAI,CAAC,EAAE;MACdzB,SAAS,CAAC4B,IAAI,KAAK;QACf,GAAGA,IAAI;QACP,CAACH,IAAI,GAAG;MACZ,CAAC,CAAC,CAAC;IACP;EACJ,CAAC;EAED,MAAMI,YAAY,GAAIC,IAAI,IAAK;IAC3B,MAAMC,SAAS,GAAG,CAAC,CAAC;IACpB,IAAIC,OAAO,GAAG,IAAI;IAElB,IAAIF,IAAI,KAAK,CAAC,EAAE;MACZ,IAAI,CAAC3C,QAAQ,CAACE,SAAS,CAAC4C,IAAI,CAAC,CAAC,EAAE;QAC5BF,SAAS,CAAC1C,SAAS,GAAG,wBAAwB;QAC9C2C,OAAO,GAAG,KAAK;MACnB;MACA,IAAI,CAAC7C,QAAQ,CAACG,QAAQ,CAAC2C,IAAI,CAAC,CAAC,EAAE;QAC3BF,SAAS,CAACzC,QAAQ,GAAG,uBAAuB;QAC5C0C,OAAO,GAAG,KAAK;MACnB;MACA,IAAI,CAAC7C,QAAQ,CAACI,KAAK,CAAC0C,IAAI,CAAC,CAAC,EAAE;QACxBF,SAAS,CAACxC,KAAK,GAAG,mBAAmB;QACrCyC,OAAO,GAAG,KAAK;MACnB,CAAC,MAAM,IAAI,CAAC,aAAa,CAACE,IAAI,CAAC/C,QAAQ,CAACI,KAAK,CAAC,EAAE;QAC5CwC,SAAS,CAACxC,KAAK,GAAG,kBAAkB;QACpCyC,OAAO,GAAG,KAAK;MACnB;MACA,IAAI,CAAC7C,QAAQ,CAACU,QAAQ,CAACoC,IAAI,CAAC,CAAC,EAAE;QAC3BF,SAAS,CAAClC,QAAQ,GAAG,sBAAsB;QAC3CmC,OAAO,GAAG,KAAK;MACnB,CAAC,MAAM,IAAI7C,QAAQ,CAACU,QAAQ,CAACsC,MAAM,GAAG,CAAC,EAAE;QACrCJ,SAAS,CAAClC,QAAQ,GAAG,wCAAwC;QAC7DmC,OAAO,GAAG,KAAK;MACnB;MACA,IAAI7C,QAAQ,CAACU,QAAQ,KAAKV,QAAQ,CAACW,eAAe,EAAE;QAChDiC,SAAS,CAACjC,eAAe,GAAG,wBAAwB;QACpDkC,OAAO,GAAG,KAAK;MACnB;MACA,IAAI,CAAC7C,QAAQ,CAACK,GAAG,CAACyC,IAAI,CAAC,CAAC,EAAE;QACtBF,SAAS,CAACvC,GAAG,GAAG,iBAAiB;QACjCwC,OAAO,GAAG,KAAK;MACnB,CAAC,MAAM,IAAII,KAAK,CAACjD,QAAQ,CAACK,GAAG,CAAC,IAAI6C,QAAQ,CAAClD,QAAQ,CAACK,GAAG,CAAC,GAAG,EAAE,EAAE;QAC3DuC,SAAS,CAACvC,GAAG,GAAG,sCAAsC;QACtDwC,OAAO,GAAG,KAAK;MACnB;MACA,IAAI,CAAC7C,QAAQ,CAACM,QAAQ,CAACwC,IAAI,CAAC,CAAC,EAAE;QAC3BF,SAAS,CAACtC,QAAQ,GAAG,sBAAsB;QAC3CuC,OAAO,GAAG,KAAK;MACnB;MACA,IAAI,CAAC7C,QAAQ,CAACO,aAAa,CAACuC,IAAI,CAAC,CAAC,EAAE;QAChCF,SAAS,CAACrC,aAAa,GAAG,4BAA4B;QACtDsC,OAAO,GAAG,KAAK;MACnB;MACA,IAAI,CAAC7C,QAAQ,CAACQ,UAAU,CAACsC,IAAI,CAAC,CAAC,EAAE;QAC7BF,SAAS,CAACpC,UAAU,GAAG,kCAAkC;QACzDqC,OAAO,GAAG,KAAK;MACnB,CAAC,MAAM,IAAII,KAAK,CAACjD,QAAQ,CAACQ,UAAU,CAAC,IAAI0C,QAAQ,CAAClD,QAAQ,CAACQ,UAAU,CAAC,GAAG,CAAC,EAAE;QACxEoC,SAAS,CAACpC,UAAU,GAAG,0CAA0C;QACjEqC,OAAO,GAAG,KAAK;MACnB;IACJ,CAAC,MAAM,IAAIF,IAAI,KAAK,CAAC,EAAE;MACnB,IAAI,CAAC3C,QAAQ,CAACS,aAAa,CAACqC,IAAI,CAAC,CAAC,EAAE;QAChCF,SAAS,CAACnC,aAAa,GAAG,4BAA4B;QACtDoC,OAAO,GAAG,KAAK;MACnB,CAAC,MAAM,IAAII,KAAK,CAACjD,QAAQ,CAACS,aAAa,CAAC,IAAI0C,UAAU,CAACnD,QAAQ,CAACS,aAAa,CAAC,IAAI,CAAC,EAAE;QACjFmC,SAAS,CAACnC,aAAa,GAAG,0CAA0C;QACpEoC,OAAO,GAAG,KAAK;MACnB;IACJ;IAEAhC,SAAS,CAAC+B,SAAS,CAAC;IACpB,OAAOC,OAAO;EAClB,CAAC;EAED,MAAMO,cAAc,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAIV,YAAY,CAAC5C,WAAW,CAAC,EAAE;MAC3B,IAAIA,WAAW,KAAK,CAAC,EAAE;QACnBiB,cAAc,CAAC,IAAI,CAAC;QACpBsC,UAAU,CAAC,MAAM;UACbtD,cAAc,CAAC,CAAC,CAAC;UACjBgB,cAAc,CAAC,KAAK,CAAC;QACzB,CAAC,EAAE,GAAG,CAAC;MACX;IACJ;EACJ,CAAC;EAED,MAAMuC,kBAAkB,GAAGA,CAAA,KAAM;IAC7BvC,cAAc,CAAC,IAAI,CAAC;IACpBsC,UAAU,CAAC,MAAM;MACbtD,cAAc,CAAC,CAAC,CAAC;MACjBgB,cAAc,CAAC,KAAK,CAAC;IACzB,CAAC,EAAE,GAAG,CAAC;EACX,CAAC;EAED,MAAMwC,uBAAuB,GAAG,MAAAA,CAAA,KAAY;IACxC,IAAI,CAACvD,QAAQ,CAACI,KAAK,IAAI,CAACJ,QAAQ,CAACU,QAAQ,EAAE;MACvCG,SAAS,CAAE4B,IAAI,KAAM;QACjB,GAAGA,IAAI;QACPrC,KAAK,EAAE;MACX,CAAC,CAAC,CAAC;MACH;IACJ;IAEAe,oBAAoB,CAAC,IAAI,CAAC;IAC1BN,SAAS,CAAC,CAAC,CAAC,CAAC;IAEb,IAAI;MACA;MACA,MAAM2C,cAAc,GAAG,MAAMxE,8BAA8B,CACvDI,IAAI,EACJY,QAAQ,CAACI,KAAK,EACdJ,QAAQ,CAACU,QACb,CAAC;MACD,MAAMkB,IAAI,GAAG4B,cAAc,CAAC5B,IAAI;;MAEhC;MACA,IAAI;QACA,IAAIA,IAAI,IAAI,OAAOA,IAAI,CAAC6B,aAAa,KAAK,UAAU,EAAE;UAClD,MAAM7B,IAAI,CAAC6B,aAAa,CAAC;YACrBC,WAAW,EAAE,GAAG1D,QAAQ,CAACE,SAAS,IAAIF,QAAQ,CAACG,QAAQ;UAC3D,CAAC,CAAC;UACF6B,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAC;QAClD,CAAC,MAAM;UACHD,OAAO,CAACC,GAAG,CAAC,qEAAqE,CAAC;UAClF;UACA0B,YAAY,CAACC,OAAO,CAAC,iBAAiB,EAAE,GAAG5D,QAAQ,CAACE,SAAS,IAAIF,QAAQ,CAACG,QAAQ,EAAE,CAAC;QACzF;MACJ,CAAC,CAAC,OAAO0D,YAAY,EAAE;QACnB7B,OAAO,CAACC,GAAG,CAAC,yDAAyD,EAAE4B,YAAY,CAAC;QACpF;QACAF,YAAY,CAACC,OAAO,CAAC,iBAAiB,EAAE,GAAG5D,QAAQ,CAACE,SAAS,IAAIF,QAAQ,CAACG,QAAQ,EAAE,CAAC;MACzF;;MAEA;MACA,MAAMlB,qBAAqB,CAAC2C,IAAI,CAAC;MACjCI,OAAO,CAACC,GAAG,CAAC,4CAA4C,EAAEjC,QAAQ,CAACI,KAAK,CAAC;MACzEiB,mBAAmB,CAAC,IAAI,CAAC;;MAEzB;MACA;MACA,IAAI;QACA,MAAMlC,OAAO,CAACC,IAAI,CAAC;QACnBQ,OAAO,CAAC,IAAI,CAAC;QACbC,WAAW,CAAC,IAAI,CAAC;QACjBmC,OAAO,CAACC,GAAG,CAAC,oDAAoD,CAAC;MACrE,CAAC,CAAC,OAAO6B,YAAY,EAAE;QACnB9B,OAAO,CAACC,GAAG,CAAC,8CAA8C,EAAE6B,YAAY,CAAC;QACzE;QACAlE,OAAO,CAAC,IAAI,CAAC;QACbC,WAAW,CAAC,IAAI,CAAC;MACrB;MAEAkE,KAAK,CAAC,8BAA8B/D,QAAQ,CAACI,KAAK,wEAAwE,CAAC;IAE/H,CAAC,CAAC,OAAO+B,KAAK,EAAE;MACZhB,oBAAoB,CAAC,KAAK,CAAC;MAC3B,IAAI6C,YAAY,GAAG,6CAA6C;MAChE,QAAQ7B,KAAK,CAAC8B,IAAI;QACd,KAAK,2BAA2B;UAC5BD,YAAY,GAAG,sEAAsE;UACrF;QACJ,KAAK,oBAAoB;UACrBA,YAAY,GAAG,+BAA+B;UAC9C;QACJ,KAAK,oBAAoB;UACrBA,YAAY,GAAG,2DAA2D;UAC1E;QACJ;UACIA,YAAY,GAAG7B,KAAK,CAAC+B,OAAO;MACpC;MACArD,SAAS,CAAC4B,IAAI,KAAK;QACf,GAAGA,IAAI;QACPrC,KAAK,EAAE4D;MACX,CAAC,CAAC,CAAC;MACHhC,OAAO,CAACG,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;IACxD;EACJ,CAAC;EAED,MAAMgC,YAAY,GAAG,MAAO9B,CAAC,IAAK;IAC9BA,CAAC,CAAC+B,cAAc,CAAC,CAAC;IAClB,IAAI1B,YAAY,CAAC5C,WAAW,CAAC,EAAE;MAC3B,IAAI;QACAkC,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEjC,QAAQ,CAAC;;QAExC;QACA,MAAM4B,IAAI,GAAGxC,IAAI,CAACyC,WAAW;QAC7B,IAAI,CAACD,IAAI,EAAE;UACPmC,KAAK,CAAC,2CAA2C,CAAC;UAClD;QACJ;;QAEA;QACA,MAAMM,QAAQ,GAAG;UACbC,MAAM,EAAE1C,IAAI,CAAC2C,GAAG;UAChBnE,KAAK,EAAEwB,IAAI,CAACxB,KAAK;UACjB2B,aAAa,EAAEH,IAAI,CAACG,aAAa;UACjC7B,SAAS,EAAEF,QAAQ,CAACE,SAAS;UAC7BC,QAAQ,EAAEH,QAAQ,CAACG,QAAQ;UAC3BE,GAAG,EAAE6C,QAAQ,CAAClD,QAAQ,CAACK,GAAG,CAAC;UAC3BC,QAAQ,EAAEN,QAAQ,CAACM,QAAQ;UAC3BC,aAAa,EAAEP,QAAQ,CAACO,aAAa;UACrCC,UAAU,EAAE0C,QAAQ,CAAClD,QAAQ,CAACQ,UAAU,CAAC;UACzCC,aAAa,EAAE0C,UAAU,CAACnD,QAAQ,CAACS,aAAa,CAAC;UACjDC,QAAQ,EAAEV,QAAQ,CAACU,QAAQ;UAC3B8D,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC;UACrBC,SAAS,EAAE,IAAID,IAAI,CAAC;QACxB,CAAC;;QAED;QACA,IAAI;UACAzC,OAAO,CAACC,GAAG,CAAC,oCAAoC,EAAEoC,QAAQ,CAAC;UAC3D,MAAMM,MAAM,GAAG,MAAMtF,OAAO,CAAC,OAAO,EAAEgF,QAAQ,CAAC;UAC/CrC,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAE0C,MAAM,CAAC;UAE3C,IAAIA,MAAM,CAACC,OAAO,EAAE;YAChB5C,OAAO,CAACC,GAAG,CAAC,+CAA+C,EAAE0C,MAAM,CAACE,EAAE,CAAC;;YAEvE;YACA,IAAI;cACA,MAAM1F,OAAO,CAACC,IAAI,CAAC;cACnB;cACAQ,OAAO,CAAC,IAAI,CAAC;cACbC,WAAW,CAAC,IAAI,CAAC;cACjBmC,OAAO,CAACC,GAAG,CAAC,sCAAsC,CAAC;YACvD,CAAC,CAAC,OAAO6B,YAAY,EAAE;cACnB9B,OAAO,CAACC,GAAG,CAAC,sDAAsD,EAAE6B,YAAY,CAAC;cACjF;cACAlE,OAAO,CAAC,IAAI,CAAC;cACbC,WAAW,CAAC,IAAI,CAAC;YACrB;YAEAkE,KAAK,CAAC,oDAAoD,CAAC;YAC3DpE,QAAQ,CAAC,QAAQ,CAAC;UACtB,CAAC,MAAM;YACH,MAAM,IAAImF,KAAK,CAACH,MAAM,CAACxC,KAAK,CAAC;UACjC;QACJ,CAAC,CAAC,OAAO4C,cAAc,EAAE;UACrB/C,OAAO,CAACG,KAAK,CAAC,oBAAoB,EAAE4C,cAAc,CAAC;UACnDhB,KAAK,CAAC,mEAAmE,CAAC;QAC9E;MACJ,CAAC,CAAC,OAAO5B,KAAK,EAAE;QACZH,OAAO,CAACG,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;QAClD4B,KAAK,CAAC,0DAA0D,CAAC;MACrE;IACJ;EACJ,CAAC;EAED,oBACIvE,OAAA;IAAKwF,SAAS,EAAC,uFAAuF;IAAAC,QAAA,eAClGzF,OAAA;MAAKwF,SAAS,EAAC,6CAA6C;MAAAC,QAAA,gBACxDzF,OAAA;QAAKwF,SAAS,EAAC,kBAAkB;QAAAC,QAAA,gBAC7BzF,OAAA;UAAKwF,SAAS,EAAC,qFAAqF;UAAAC,QAAA,eAChGzF,OAAA;YAAGwF,SAAS,EAAC;UAA4C;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7D,CAAC,eACN7F,OAAA;UAAIwF,SAAS,EAAC,uCAAuC;UAAAC,QAAA,EAAC;QAAmB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC9E7F,OAAA;UAAGwF,SAAS,EAAC,eAAe;UAAAC,QAAA,EAAC;QAAuC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvE,CAAC,eAEN7F,OAAA;QAAM8F,QAAQ,EAAEnB,YAAa;QAACa,SAAS,EAAE,+BAA+BlE,WAAW,GAAG,mCAAmC,GAAG,qCAAqC,EAAG;QAAAmE,QAAA,GAC/JnF,WAAW,KAAK,CAAC,iBACdN,OAAA;UAAKwF,SAAS,EAAC,WAAW;UAAAC,QAAA,gBACtBzF,OAAA;YAAIwF,SAAS,EAAC,0CAA0C;YAAAC,QAAA,EAAC;UAAoB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAElF7F,OAAA;YAAKwF,SAAS,EAAC,uCAAuC;YAAAC,QAAA,gBAClDzF,OAAA;cAAAyF,QAAA,gBACIzF,OAAA;gBAAOwF,SAAS,EAAC,YAAY;gBAAAC,QAAA,EAAC;cAAY;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eAClD7F,OAAA;gBACI+F,IAAI,EAAC,MAAM;gBACXjD,IAAI,EAAC,WAAW;gBAChBC,KAAK,EAAEvC,QAAQ,CAACE,SAAU;gBAC1BsF,QAAQ,EAAEpD,YAAa;gBACvB4C,SAAS,EAAE,cAAcpE,MAAM,CAACV,SAAS,GAAG,gBAAgB,GAAG,EAAE,EAAG;gBACpEuF,WAAW,EAAC;cAAuB;gBAAAP,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACtC,CAAC,EACDzE,MAAM,CAACV,SAAS,iBAAIV,OAAA;gBAAGwF,SAAS,EAAC,2BAA2B;gBAAAC,QAAA,EAAErE,MAAM,CAACV;cAAS;gBAAAgF,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACnF,CAAC,eACN7F,OAAA;cAAAyF,QAAA,gBACIzF,OAAA;gBAAOwF,SAAS,EAAC,YAAY;gBAAAC,QAAA,EAAC;cAAW;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eACjD7F,OAAA;gBACI+F,IAAI,EAAC,MAAM;gBACXjD,IAAI,EAAC,UAAU;gBACfC,KAAK,EAAEvC,QAAQ,CAACG,QAAS;gBACzBqF,QAAQ,EAAEpD,YAAa;gBACvB4C,SAAS,EAAE,cAAcpE,MAAM,CAACT,QAAQ,GAAG,gBAAgB,GAAG,EAAE,EAAG;gBACnEsF,WAAW,EAAC;cAAsB;gBAAAP,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACrC,CAAC,EACDzE,MAAM,CAACT,QAAQ,iBAAIX,OAAA;gBAAGwF,SAAS,EAAC,2BAA2B;gBAAAC,QAAA,EAAErE,MAAM,CAACT;cAAQ;gBAAA+E,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACjF,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC,eAEN7F,OAAA;YAAAyF,QAAA,gBACIzF,OAAA;cAAOwF,SAAS,EAAC,YAAY;cAAAC,QAAA,EAAC;YAAe;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACrD7F,OAAA;cACI+F,IAAI,EAAC,OAAO;cACZjD,IAAI,EAAC,OAAO;cACZC,KAAK,EAAEvC,QAAQ,CAACI,KAAM;cACtBoF,QAAQ,EAAEpD,YAAa;cACvB4C,SAAS,EAAE,cAAcpE,MAAM,CAACR,KAAK,GAAG,gBAAgB,GAAG,EAAE,EAAG;cAChEqF,WAAW,EAAC;YAA0B;cAAAP,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACzC,CAAC,EACDzE,MAAM,CAACR,KAAK,iBAAIZ,OAAA;cAAGwF,SAAS,EAAC,2BAA2B;cAAAC,QAAA,EAAErE,MAAM,CAACR;YAAK;cAAA8E,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3E,CAAC,eAEN7F,OAAA;YAAAyF,QAAA,gBACIzF,OAAA;cAAOwF,SAAS,EAAC,YAAY;cAAAC,QAAA,EAAC;YAAU;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAChD7F,OAAA;cACI+F,IAAI,EAAC,UAAU;cACfjD,IAAI,EAAC,UAAU;cACfC,KAAK,EAAEvC,QAAQ,CAACU,QAAS;cACzB8E,QAAQ,EAAEpD,YAAa;cACvB4C,SAAS,EAAE,cAAcpE,MAAM,CAACF,QAAQ,GAAG,gBAAgB,GAAG,EAAE,EAAG;cACnE+E,WAAW,EAAC;YAA0B;cAAAP,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACzC,CAAC,EACDzE,MAAM,CAACF,QAAQ,iBAAIlB,OAAA;cAAGwF,SAAS,EAAC,2BAA2B;cAAAC,QAAA,EAAErE,MAAM,CAACF;YAAQ;cAAAwE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACjF,CAAC,eAEN7F,OAAA;YAAAyF,QAAA,gBACIzF,OAAA;cAAOwF,SAAS,EAAC,YAAY;cAAAC,QAAA,EAAC;YAAkB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACxD7F,OAAA;cACI+F,IAAI,EAAC,UAAU;cACfjD,IAAI,EAAC,iBAAiB;cACtBC,KAAK,EAAEvC,QAAQ,CAACW,eAAgB;cAChC6E,QAAQ,EAAEpD,YAAa;cACvB4C,SAAS,EAAE,cAAcpE,MAAM,CAACD,eAAe,GAAG,gBAAgB,GAAG,EAAE,EAAG;cAC1E8E,WAAW,EAAC;YAAuB;cAAAP,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACtC,CAAC,EACDzE,MAAM,CAACD,eAAe,iBAAInB,OAAA;cAAGwF,SAAS,EAAC,2BAA2B;cAAAC,QAAA,EAAErE,MAAM,CAACD;YAAe;cAAAuE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC/F,CAAC,eAEN7F,OAAA;YAAKwF,SAAS,EAAC,uCAAuC;YAAAC,QAAA,gBAClDzF,OAAA;cAAAyF,QAAA,gBACIzF,OAAA;gBAAOwF,SAAS,EAAC,YAAY;gBAAAC,QAAA,EAAC;cAAK;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eAC3C7F,OAAA;gBACI+F,IAAI,EAAC,QAAQ;gBACbjD,IAAI,EAAC,KAAK;gBACVC,KAAK,EAAEvC,QAAQ,CAACK,GAAI;gBACpBmF,QAAQ,EAAEpD,YAAa;gBACvB4C,SAAS,EAAE,cAAcpE,MAAM,CAACP,GAAG,GAAG,gBAAgB,GAAG,EAAE,EAAG;gBAC9DoF,WAAW,EAAC;cAAkB;gBAAAP,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACjC,CAAC,EACDzE,MAAM,CAACP,GAAG,iBAAIb,OAAA;gBAAGwF,SAAS,EAAC,2BAA2B;gBAAAC,QAAA,EAAErE,MAAM,CAACP;cAAG;gBAAA6E,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACvE,CAAC,eACN7F,OAAA;cAAAyF,QAAA,gBACIzF,OAAA;gBAAOwF,SAAS,EAAC,YAAY;gBAAAC,QAAA,EAAC;cAAU;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eAChD7F,OAAA;gBACI+F,IAAI,EAAC,MAAM;gBACXjD,IAAI,EAAC,UAAU;gBACfC,KAAK,EAAEvC,QAAQ,CAACM,QAAS;gBACzBkF,QAAQ,EAAEpD,YAAa;gBACvB4C,SAAS,EAAE,cAAcpE,MAAM,CAACN,QAAQ,GAAG,gBAAgB,GAAG,EAAE,EAAG;gBACnEmF,WAAW,EAAC;cAAqB;gBAAAP,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACpC,CAAC,EACDzE,MAAM,CAACN,QAAQ,iBAAId,OAAA;gBAAGwF,SAAS,EAAC,2BAA2B;gBAAAC,QAAA,EAAErE,MAAM,CAACN;cAAQ;gBAAA4E,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACjF,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC,eAEN7F,OAAA;YAAKwF,SAAS,EAAC,uCAAuC;YAAAC,QAAA,gBAClDzF,OAAA;cAAAyF,QAAA,gBACIzF,OAAA;gBAAOwF,SAAS,EAAC,YAAY;gBAAAC,QAAA,EAAC;cAAgB;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eACtD7F,OAAA;gBACI8C,IAAI,EAAC,eAAe;gBACpBC,KAAK,EAAEvC,QAAQ,CAACO,aAAc;gBAC9BiF,QAAQ,EAAEpD,YAAa;gBACvB4C,SAAS,EAAE,eAAepE,MAAM,CAACL,aAAa,GAAG,gBAAgB,GAAG,EAAE,EAAG;gBAAA0E,QAAA,gBAEzEzF,OAAA;kBAAQ+C,KAAK,EAAC,EAAE;kBAAA0C,QAAA,EAAC;gBAAa;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACvC7F,OAAA;kBAAQ+C,KAAK,EAAC,QAAQ;kBAAA0C,QAAA,EAAC;gBAAM;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACtC7F,OAAA;kBAAQ+C,KAAK,EAAC,SAAS;kBAAA0C,QAAA,EAAC;gBAAO;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACxC7F,OAAA;kBAAQ+C,KAAK,EAAC,UAAU;kBAAA0C,QAAA,EAAC;gBAAQ;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eAC1C7F,OAAA;kBAAQ+C,KAAK,EAAC,SAAS;kBAAA0C,QAAA,EAAC;gBAAO;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACpC,CAAC,EACRzE,MAAM,CAACL,aAAa,iBAAIf,OAAA;gBAAGwF,SAAS,EAAC,2BAA2B;gBAAAC,QAAA,EAAErE,MAAM,CAACL;cAAa;gBAAA2E,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC3F,CAAC,eACN7F,OAAA;cAAAyF,QAAA,gBACIzF,OAAA;gBAAOwF,SAAS,EAAC,YAAY;gBAAAC,QAAA,EAAC;cAAsB;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eAC5D7F,OAAA;gBACI+F,IAAI,EAAC,QAAQ;gBACbjD,IAAI,EAAC,YAAY;gBACjBC,KAAK,EAAEvC,QAAQ,CAACQ,UAAW;gBAC3BgF,QAAQ,EAAEpD,YAAa;gBACvB4C,SAAS,EAAE,cAAcpE,MAAM,CAACJ,UAAU,GAAG,gBAAgB,GAAG,EAAE,EAAG;gBACrEiF,WAAW,EAAC;cAAe;gBAAAP,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC9B,CAAC,EACDzE,MAAM,CAACJ,UAAU,iBAAIhB,OAAA;gBAAGwF,SAAS,EAAC,2BAA2B;gBAAAC,QAAA,EAAErE,MAAM,CAACJ;cAAU;gBAAA0E,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACrF,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC,eAEN7F,OAAA;YAAKwF,SAAS,EAAC,MAAM;YAAAC,QAAA,eACjBzF,OAAA;cACI+F,IAAI,EAAC,QAAQ;cACbG,OAAO,EAAEnC,uBAAwB;cACjCoC,QAAQ,EAAEzE,iBAAiB,IAAIF,eAAe,IAAI,CAAChB,QAAQ,CAACI,KAAK,IAAI,CAACJ,QAAQ,CAACU,QAAS;cACxFsE,SAAS,EAAE,qEAAqEhE,eAAe,GACzF,qDAAqD,GACrDE,iBAAiB,GACb,qEAAqE,GACrE,gDAAgD,EACnD;cAAA+D,QAAA,EAEN/D,iBAAiB,GAAG,YAAY,GAAGF,eAAe,GAAG,YAAY,GAAG;YAAyB;cAAAkE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC1F;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACR,CAAC,EAGLjE,gBAAgB,IAAI,CAACJ,eAAe,iBACjCxB,OAAA;YAAKwF,SAAS,EAAC,uDAAuD;YAAAC,QAAA,eAClEzF,OAAA;cAAKwF,SAAS,EAAC,mCAAmC;cAAAC,QAAA,gBAC9CzF,OAAA;gBAAAyF,QAAA,gBACIzF,OAAA;kBAAGwF,SAAS,EAAC,mCAAmC;kBAAAC,QAAA,EAAC;gBAAwB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG,CAAC,eAC7E7F,OAAA;kBAAGwF,SAAS,EAAC,uBAAuB;kBAAAC,QAAA,EAAC;gBAAoE;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC5G,CAAC,eACN7F,OAAA;gBACI+F,IAAI,EAAC,QAAQ;gBACbG,OAAO,EAAE,MAAAA,CAAA,KAAY;kBACjBjE,yBAAyB,CAAC,IAAI,CAAC;kBAC/B,IAAI;oBACA,MAAMG,IAAI,GAAGxC,IAAI,CAACyC,WAAW;oBAC7B,IAAID,IAAI,EAAE;sBACN,MAAMA,IAAI,CAACE,MAAM,CAAC,CAAC;sBACnB,IAAIF,IAAI,CAACG,aAAa,EAAE;wBACpBC,OAAO,CAACC,GAAG,CAAC,gCAAgC,CAAC;wBAC7ChB,kBAAkB,CAAC,IAAI,CAAC;wBACxB8C,KAAK,CAAC,sDAAsD,CAAC;sBACjE,CAAC,MAAM;wBACH/B,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC;wBACrC8B,KAAK,CAAC,kFAAkF,CAAC;sBAC7F;oBACJ;kBACJ,CAAC,CAAC,OAAO5B,KAAK,EAAE;oBACZH,OAAO,CAACG,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;oBACpD4B,KAAK,CAAC,gDAAgD,CAAC;kBAC3D,CAAC,SAAS;oBACNtC,yBAAyB,CAAC,KAAK,CAAC;kBACpC;gBACJ,CAAE;gBACFkE,QAAQ,EAAEnE,sBAAuB;gBACjCwD,SAAS,EAAE,+CAA+CxD,sBAAsB,GAC1E,8CAA8C,GAC9C,0CAA0C,EACzC;gBAAAyD,QAAA,EAENzD,sBAAsB,GAAG,aAAa,GAAG;cAAoB;gBAAA0D,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC1D,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACR;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CACR,EAEArE,eAAe,iBACZxB,OAAA;YAAKwF,SAAS,EAAC,yDAAyD;YAAAC,QAAA,eACpEzF,OAAA;cAAKwF,SAAS,EAAC,mBAAmB;cAAAC,QAAA,gBAC9BzF,OAAA;gBAAGwF,SAAS,EAAC;cAAyC;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC3D7F,OAAA;gBAAGwF,SAAS,EAAC,oCAAoC;gBAAAC,QAAA,EAAC;cAAkE;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACvH;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CACR,eAED7F,OAAA;YACI+F,IAAI,EAAC,QAAQ;YACbG,OAAO,EAAEtC,cAAe;YACxBuC,QAAQ,EAAE,CAAC3E,eAAgB;YAC3BgE,SAAS,EAAE,gGAAgG,CAAChE,eAAe,GAAG,+BAA+B,GAAG,EAAE,EAAG;YAAAiE,QAAA,GAEpK,CAACjE,eAAe,GAAG,0BAA0B,GAAG,WAAW,EAAC,GAAC,eAAAxB,OAAA;cAAGwF,SAAS,EAAC;YAAyB;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACR,CACR,EAEAvF,WAAW,KAAK,CAAC,iBACdN,OAAA;UAAKwF,SAAS,EAAC,WAAW;UAAAC,QAAA,gBACtBzF,OAAA;YAAIwF,SAAS,EAAC,0CAA0C;YAAAC,QAAA,EAAC;UAAiB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAE/E7F,OAAA;YAAAyF,QAAA,gBACIzF,OAAA;cAAOwF,SAAS,EAAC,YAAY;cAAAC,QAAA,EAAC;YAAoB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC1D7F,OAAA;cACI+F,IAAI,EAAC,QAAQ;cACbjD,IAAI,EAAC,eAAe;cACpBC,KAAK,EAAEvC,QAAQ,CAACS,aAAc;cAC9B+E,QAAQ,EAAEpD,YAAa;cACvB4C,SAAS,EAAE,cAAcpE,MAAM,CAACH,aAAa,GAAG,gBAAgB,GAAG,EAAE,EAAG;cACxEgF,WAAW,EAAC;YAAiC;cAAAP,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAChD,CAAC,EACDzE,MAAM,CAACH,aAAa,iBAAIjB,OAAA;cAAGwF,SAAS,EAAC,2BAA2B;cAAAC,QAAA,EAAErE,MAAM,CAACH;YAAa;cAAAyE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3F,CAAC,eAEN7F,OAAA;YAAKwF,SAAS,EAAC,mCAAmC;YAAAC,QAAA,gBAC9CzF,OAAA;cACI+F,IAAI,EAAC,QAAQ;cACbG,OAAO,EAAEpC,kBAAmB;cAC5B0B,SAAS,EAAC,yFAAyF;cAAAC,QAAA,gBAEnGzF,OAAA;gBAAGwF,SAAS,EAAC;cAAwB;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,aAC9C;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACT7F,OAAA;cACI+F,IAAI,EAAC,QAAQ;cACbP,SAAS,EAAC,uFAAuF;cAAAC,QAAA,GACpG,WACY,eAAAzF,OAAA;gBAAGwF,SAAS,EAAC;cAA0B;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACjD,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACR,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CACR;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eAEP7F,OAAA;QAAKwF,SAAS,EAAC,kBAAkB;QAAAC,QAAA,eAC7BzF,OAAA;UAAGwF,SAAS,EAAC,uBAAuB;UAAAC,QAAA,GAAC,0BACT,EAAC,GAAG,eAC5BzF,OAAA;YAAGoG,IAAI,EAAC,QAAQ;YAACZ,SAAS,EAAC,qDAAqD;YAAAC,QAAA,EAAC;UAEjF;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEd,CAAC;AAAC3F,EAAA,CA1kBID,YAAY;EAAA,QACGV,WAAW,EACKO,OAAO;AAAA;AAAAuG,EAAA,GAFtCpG,YAAY;AA4kBlB,eAAeA,YAAY;AAAC,IAAAoG,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}